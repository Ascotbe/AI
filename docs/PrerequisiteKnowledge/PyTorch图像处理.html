
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>PyTorchå›¾åƒå¤„ç† &#8212; AIå­¦ä¹ ç¬”è®°</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=b76e3c8a" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=87e54e7c" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'PrerequisiteKnowledge/PyTorchå›¾åƒå¤„ç†';</script>
    <link rel="icon" href="../_static/favicon.png"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="torch.argmax" href="../FunctionDetails/torch.argmax.html" />
    <link rel="prev" title="å…³äºtensorä¸­çš„is_leaf" href="%E5%85%B3%E4%BA%8Etensor%E4%B8%AD%E7%9A%84is_leaf.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo.png" class="logo__image only-light" alt="AIå­¦ä¹ ç¬”è®° - Home"/>
    <script>document.write(`<img src="../_static/logo.png" class="logo__image only-dark" alt="AIå­¦ä¹ ç¬”è®° - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../index.html">
                    ğŸ“š AI å­¦ä¹ ç¬”è®° ğŸ§ 
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">å‰ç½®çŸ¥è¯†</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="%E5%BC%A0%E9%87%8F.html">å¼ é‡</a></li>
<li class="toctree-l1"><a class="reference internal" href="%E5%B9%BF%E6%92%AD%E6%9C%BA%E5%88%B6.html">å¹¿æ’­æœºåˆ¶</a></li>

<li class="toctree-l1"><a class="reference internal" href="%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E4%B8%AD%E7%9A%84%E8%BD%B4axis%E5%92%8Cdim.html">æ·±åº¦å­¦ä¹ ä¸­çš„è½´/axis/dimå…¨è§£</a></li>
<li class="toctree-l1"><a class="reference internal" href="%E8%87%AA%E5%8A%A8%E6%B1%82%E5%AF%BC.html">è‡ªåŠ¨æ±‚å¯¼</a></li>
<li class="toctree-l1"><a class="reference internal" href="%E5%85%B3%E4%BA%8Etensor%E4%B8%AD%E7%9A%84is_leaf.html">å…³äºtensorä¸­çš„is_leaf</a></li>

<li class="toctree-l1 current active"><a class="current reference internal" href="#">PyTorchå›¾åƒå¤„ç†</a></li>




</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">å‡½æ•°è¯¦è§£</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../FunctionDetails/torch.argmax.html">torch.argmax</a></li>
<li class="toctree-l1"><a class="reference internal" href="../FunctionDetails/torch.matmul.html">torch.matmul</a></li>
<li class="toctree-l1"><a class="reference internal" href="../FunctionDetails/torch.normal.html">torch.normal</a></li>
<li class="toctree-l1"><a class="reference internal" href="../FunctionDetails/torch.zeros.html">torch.zeros</a></li>
<li class="toctree-l1"><a class="reference internal" href="../FunctionDetails/torch.nn.Linear.html">torch.nn.Linear</a></li>
<li class="toctree-l1"><a class="reference internal" href="../FunctionDetails/torch.nn.ReLU.html">torch.nn.ReLU</a></li>
<li class="toctree-l1"><a class="reference internal" href="../FunctionDetails/torch.nn.init.html">torch.nn.init</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">çº¿æ€§ç¥ç»ç½‘ç»œ</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../LinearNeuralNetwork/%E7%BA%BF%E6%80%A7%E5%9B%9E%E5%BD%92.html">çº¿æ€§å›å½’</a></li>








<li class="toctree-l1"><a class="reference internal" href="../LinearNeuralNetwork/Softmax%E5%9B%9E%E5%BD%92%E5%8E%9F%E7%90%86.html">Softmax å›å½’åŸç†</a></li>


<li class="toctree-l1"><a class="reference internal" href="../LinearNeuralNetwork/%E4%BA%A4%E5%8F%89%E7%86%B5%E6%8D%9F%E5%A4%B1%E5%87%BD%E6%95%B0.html">äº¤å‰ç†µæŸå¤±å‡½æ•°åŸç†è¯¦è§£</a></li>
<li class="toctree-l1"><a class="reference internal" href="../LinearNeuralNetwork/Softmax%E5%9B%9E%E5%BD%92%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0.html">Softmaxå›å½’ä»£ç å®ç°</a></li>








</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">å¤šå±‚æ„ŸçŸ¥æœº</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../MultilayerPerceptrons/%E5%A4%9A%E5%B1%82%E6%84%9F%E7%9F%A5%E6%9C%BA.html">å¤šå±‚æ„ŸçŸ¥æœºçš„ç®€æ´å®ç°</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">æ·±åº¦å­¦ä¹ è®¡ç®—</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../DeepLearning/%E5%B1%82%E5%92%8C%E5%9D%97.html">å±‚å’Œå—</a></li>
<li class="toctree-l1"><a class="reference internal" href="../DeepLearning/%E5%8F%82%E6%95%B0%E7%AE%A1%E7%90%86.html">å‚æ•°ç®¡ç†</a></li>
<li class="toctree-l1"><a class="reference internal" href="../DeepLearning/%E8%87%AA%E5%AE%9A%E4%B9%89%E5%B1%82.html">è‡ªå®šä¹‰å±‚</a></li>
<li class="toctree-l1"><a class="reference internal" href="../DeepLearning/%E8%AF%BB%E5%86%99%E6%96%87%E4%BB%B6.html">è¯»å†™æ–‡ä»¶</a></li>
<li class="toctree-l1"><a class="reference internal" href="../DeepLearning/GPU.html">GPU</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">å·ç§¯ç¥ç»ç½‘ç»œ</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../ConvolutionalNeuralNetwork/conv-layer.html">å›¾åƒå·ç§¯</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ConvolutionalNeuralNetwork/padding-and-strides.html">å¡«å……å’Œæ­¥å¹…</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ConvolutionalNeuralNetwork/channels.html">å¤šè¾“å…¥å¤šè¾“å‡ºé€šé“</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ConvolutionalNeuralNetwork/pooling.html">æ±‡èšå±‚</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ConvolutionalNeuralNetwork/lenet.html">å·ç§¯ç¥ç»ç½‘ç»œï¼ˆLeNetï¼‰</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">


<a href="https://github.com/ascotbe/AI" target="_blank"
   class="btn btn-sm btn-source-repository-button"
   title="Source repository"
   data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>

</a>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/PrerequisiteKnowledge/PyTorchå›¾åƒå¤„ç†.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>PyTorchå›¾åƒå¤„ç†</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">PyTorchå›¾åƒå¤„ç†</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">å¯¼å…¥æ‰€éœ€çš„åº“</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">åŠ è½½å›¾ç‰‡</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pil">PILåº“</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">pytorchä¸­æä¾›çš„å›¾åƒåŠ è½½æ–¹æ³•</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#transforms">transforms</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#compose">Compose</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">è‡ªå®šä¹‰å›¾åƒå˜æ¢</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#pytorchapi">pytorchä¸­å¼€ç®±å³ç”¨çš„å›¾åƒå˜æ¢API</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#api">é€šç”¨å‹å›¾åƒå˜æ¢API</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#centercrop-size">CenterCrop(size)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#resize-size">Resize(size)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pad-padding-fill-0-padding-mode-constant">Pad(padding, fill=0, padding_mode=â€™constantâ€™)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#colorjitter-brightness-0-contrast-0-saturation-0-hue-0">ColorJitter(brightness=0, contrast=0, saturation=0, hue=0)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#randomrotation-degrees-interpolation">RandomRotation(degrees[, interpolation, â€¦])</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gaussianblur-kernel-size-sigma">GaussianBlur(kernel_size[, sigma])</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#fivecrop-size-tencrop-size-vertical-flip-false">FiveCrop(size)ä¸ TenCrop(size, vertical_flip=False)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#grayscale-num-output-channels-1-randomgrayscale-p-0-1">Grayscale(num_output_channels=1) RandomGrayscale(p=0.1)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#randomsolarize-threshold-p-0-5">RandomSolarize(threshold, p=0.5)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#randomaffine-degrees-translate-none-scale-none-shear-none-resample-false-fillcolor-0">RandomAffine(degrees, translate=None, scale=None, shear=None, resample=False, fillcolor=0)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#randomcrop-size-padding-none-pad-if-needed-false-fill-0-padding-mode-constant">RandomCrop(size, padding=None, pad_if_needed=False, fill=0, padding_mode=â€™constantâ€™)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#randomhorizontalflip-p-0-5-randomverticalflip-p-0-5">RandomHorizontalFlip(p=0.5)ä¸RandomVerticalFlip(p=0.5)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#randomperspective-distortion-scale-0-5-p-0-5-interpolation-3-fill-0">RandomPerspective(distortion_scale=0.5, p=0.5, interpolation=3, fill=0)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#randomequalize-p-0-5">RandomEqualize(p=0.5)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#randomapply-p-0-5">RandomApply(p=0.5)</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pil-imageapi">ä¸“ç”¨äºPIL.Imageçš„å›¾åƒå˜æ¢API</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#randomchoice-transforms-p">RandomChoice(transforms[, p])</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#randomorder-transforms-p">RandomOrder(transforms[, p])</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#torch-tensorapi">ä¸“ç”¨äºtorch.*Tensorçš„å›¾åƒå˜æ¢API</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#lineartransformation-transformation-matrix">LinearTransformation(transformation_matrix, â€¦)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#normalize-mean-std-inplace-false">Normalize(mean, std, inplace=False)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#randomerasing-p-0-5-scale-0-02-0-33-ratio-0-3-3-3">RandomErasing(p=0.5, scale=(0.02, 0.33), ratio=(0.3, 3.3)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">RandomErasing(p=0.5, scale=(0.02, 0.33), ratio=(0.3, 3.3)</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">è½¬æ¢ç±»å‹çš„å›¾åƒå˜æ¢API</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#topilimage-mode">ToPILImage([mode])</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#totensor">ToTensor()</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#piltotensor">PILToTensor()</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="pytorch">
<h1>PyTorchå›¾åƒå¤„ç†<a class="headerlink" href="#pytorch" title="Link to this heading">#</a></h1>
<p>è®¡ç®—æœºè§†è§‰ä»»åŠ¡ä¸­ï¼Œå¯¹å›¾åƒçš„å˜æ¢ï¼ˆImage Transformï¼‰å¾€å¾€æ˜¯å¿…ä¸å¯å°‘çš„æ“ä½œï¼Œä¾‹å¦‚åœ¨è¿ç§»å­¦ä¹ ä¸­ï¼Œéœ€è¦å¯¹å›¾åƒå°ºå¯¸è¿›è¡Œå˜æ¢ä»¥ä½¿ç”¨é¢„è®­ç»ƒç½‘ç»œçš„è¾“å…¥å±‚ï¼Œåˆå¦‚å¯¹æ•°æ®è¿›è¡Œå¢å¼ºä»¥ä¸°å¯Œè®­ç»ƒæ•°æ®ã€‚</p>
<p>ä½œä¸ºæ·±åº¦å­¦ä¹ é¢†åŸŸçš„ä¸»æµæ¡†æ¶ï¼Œpytorchä¸­æä¾›äº†ä¸°å¯Œçš„å›¾åƒå˜æ¢APIã€‚æœ¬æ–‡å°†å¯¹pytorchä¸­torchvision.transformsæä¾›çš„ä¸°å¯Œå¤šæ ·çš„å›¾åƒå˜æ¢APIè¿›è¡Œæ•´ç†ä»‹ç»ã€‚</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="id1">
<h1>å¯¼å…¥æ‰€éœ€çš„åº“<a class="headerlink" href="#id1" title="Link to this heading">#</a></h1>
<p>ä¸ºæ–¹ä¾¿ä¸‹æ–‡å±•ç¤ºå„ç§å›¾åƒå˜æ¢APIçš„æ•ˆæœï¼Œæˆ‘ä»¬å€ŸåŠ©matplotlibå®šä¹‰ä¸€ä¸ªåä¸º<code class="docutils literal notranslate"><span class="pre">show_image</span></code>å‡½æ•°æ¥å±•ç¤ºå›¾ç‰‡ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">torch</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">torchvision</span> <span class="kn">import</span> <span class="n">transforms</span>
<span class="kn">from</span> <span class="nn">torchvision.io</span> <span class="kn">import</span> <span class="n">read_image</span>
<span class="kn">import</span> <span class="nn">matplotlib</span> <span class="k">as</span> <span class="nn">mpl</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="n">mpl</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;font.sans-serif&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;SimHei&#39;</span><span class="p">]</span>  <span class="c1"># ä¸­æ–‡å­—ä½“æ”¯æŒ</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">show_image</span><span class="p">(</span><span class="n">img_lst</span><span class="p">,</span> <span class="o">**</span><span class="n">imshow_kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    img_lst: ä¿å­˜å›¾åƒå’Œæ ‡é¢˜çš„listï¼Œå½¢å¦‚ï¼š[(image1, title1),(image2, title2)]ã€‚imageå¯ä»¥ä½¿Pillow.Imageå¯¹è±¡ï¼Œä¹Ÿå¯ä»¥æ˜¯torch.Tensorã€‚</span>
<span class="sd">    imshow_kwargs: éœ€è¦ä¼ é€’ç»™plt.imshowçš„å‚æ•°</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span><span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="nb">len</span><span class="p">(</span><span class="n">img_lst</span><span class="p">),</span> <span class="n">constrained_layout</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>  <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="n">img_lst</span><span class="p">),</span><span class="mi">2</span><span class="p">),</span> <span class="n">squeeze</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">title</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">img_lst</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">torch</span><span class="o">.</span><span class="n">Tensor</span><span class="p">):</span>  <span class="c1"># å¦‚æœæ˜¯torch.Tensorç±»å‹ï¼Œå°±å¿…é¡»è½¬æ¢æˆPillow.Imageç±»å‹ï¼Œæ‰èƒ½è¿›è¡Œå±•ç¤º</span>
            <span class="n">img</span> <span class="o">=</span> <span class="n">transforms</span><span class="o">.</span><span class="n">ToPILImage</span><span class="p">()(</span><span class="n">img</span><span class="p">)</span>
        <span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">img</span><span class="p">),</span> <span class="o">**</span><span class="n">imshow_kwargs</span><span class="p">)</span>
        <span class="c1"># axs[0, i].set(xticklabels=[], yticklabels=[], xticks=[], yticks=[])</span>
        <span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="n">title</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="id2">
<h1>åŠ è½½å›¾ç‰‡<a class="headerlink" href="#id2" title="Link to this heading">#</a></h1>
<section id="pil">
<h2>PILåº“<a class="headerlink" href="#pil" title="Link to this heading">#</a></h2>
<p>å¯¹äºå­˜å‚¨åœ¨ç£ç›˜ä¸­çš„å›¾ç‰‡æ–‡ä»¶ï¼Œä½¿ç”¨Pillowåº“æä¾›çš„Imageç±»å¯¹è±¡è¿›è¡Œæ‰“å¼€æ˜¯ä¸€ç§ååˆ†å¸¸ç”¨çš„æ–¹æ³•ï¼Œå¦‚æœä½ è¿˜æ²¡æœ‰å®‰è£…ï¼Œä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æ–¹ä¾¿ä¸‹æ–‡è¿›è¡Œï¼š</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>Pillow
</pre></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>
</pre></div>
</div>
</div>
</div>
<p>æˆ‘ä»¬é€šè¿‡Pillowä¸­æä¾›çš„æ–¹æ³•ï¼Œæ‰“å¼€ä¸€å¼ å›¾ç‰‡ï¼Œå¹¶é€šè¿‡<code class="docutils literal notranslate"><span class="pre">show_image()</span></code>æ–¹æ³•è¿›è¡Œå±•ç¤ºï¼Œä¸‹æ–‡ä¸­å„ç§å›¾åƒå˜æ¢ï¼Œæˆ‘ä»¬éƒ½å°†ä»¥æ­¤å›¾ç‰‡ä¸ºä¾‹ï¼Œè¿›è¡Œæ¼”ç¤ºï¼š</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">raw_img</span> <span class="o">=</span> <span class="p">(</span><span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;../image/sticker.jpeg&#39;</span><span class="p">),</span> <span class="s1">&#39;åŸå§‹å›¾ç‰‡&#39;</span><span class="p">)</span>
<span class="n">show_image</span><span class="p">([</span><span class="n">raw_img</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/ffb4ac33ee1fb8ec34f42bb5241b26d3727b62036129c3493780df145c60b0a2.png" src="../_images/ffb4ac33ee1fb8ec34f42bb5241b26d3727b62036129c3493780df145c60b0a2.png" />
</div>
</div>
</section>
<section id="id3">
<h2>pytorchä¸­æä¾›çš„å›¾åƒåŠ è½½æ–¹æ³•<a class="headerlink" href="#id3" title="Link to this heading">#</a></h2>
<p>pytorchçš„torchvision.ioæ¨¡å—æœ¬èº«ä¹Ÿæä¾›æœ‰åŠ è½½å›¾åƒæ•°æ®çš„æ–¹æ³•ï¼šread_imageã€‚è¯¥æ–¹æ³•ç›´æ¥å°†å›¾ç‰‡åŠ è½½ä¸ºTensorç±»å‹æ•°æ®ã€‚</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">torchvision.io</span> <span class="kn">import</span> <span class="n">read_image</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">raw_img2</span> <span class="o">=</span> <span class="n">read_image</span><span class="p">(</span><span class="s1">&#39;../image/sticker.jpeg&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">raw_img2</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>torch.Size([3, 338, 328])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="n">raw_img2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>torch.Tensor
</pre></div>
</div>
</div>
</div>
<p>æˆ‘ä»¬ä¹Ÿé€šè¿‡ä¹‹å‰å®šä¹‰çš„<code class="docutils literal notranslate"><span class="pre">show_image()</span></code>æ–¹æ³•è¿›è¡Œå±•ç¤ºï¼Œæ³¨æ„ï¼Œ<code class="docutils literal notranslate"><span class="pre">show_image()</span></code>æ–¹æ³•ä¹‹æ‰€ä»¥èƒ½å±•ç¤ºTensorç±»å‹æ•°æ®ä¸ºå›¾åƒï¼Œæ˜¯å› ä¸º<code class="docutils literal notranslate"><span class="pre">show_image()</span></code>æ–¹æ³•å†…å°†Tensorè½¬ä¸ºPILå›¾åƒäº†ã€‚</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">show_image</span><span class="p">([(</span><span class="n">raw_img2</span><span class="p">,</span> <span class="s1">&#39;read_image()&#39;</span><span class="p">)])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/339710f6eb86f96aa16d43846ebd8a69ebfe18c4dba312039dba5adcef461912.png" src="../_images/339710f6eb86f96aa16d43846ebd8a69ebfe18c4dba312039dba5adcef461912.png" />
</div>
</div>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="transforms">
<h1>transforms<a class="headerlink" href="#transforms" title="Link to this heading">#</a></h1>
<section id="compose">
<h2>Compose<a class="headerlink" href="#compose" title="Link to this heading">#</a></h2>
<p>åœ¨ä»‹ç»transformså‰ï¼Œæœ‰å¿…è¦å…ˆè¯´è¯´Composeã€‚</p>
<p>æˆ‘ä»¬åšå›¾åƒå˜æ¢æ—¶ï¼Œä¸€èˆ¬éƒ½ä¸ä¼šå•ç‹¬ä½¿ç”¨ä¸€ä¸ªå›¾åƒå˜æ¢APIï¼Œè€Œæ˜¯é¡ºåºä½¿ç”¨å¤šä¸ªAPIã€‚å¯¹äºå¤šä¸ªAPIï¼Œtransformsæ¨¡å—ä¸­æä¾›Composeç±»ï¼Œå¯¹å¤šä¸ªAPIè¿›è¡Œæ‰“åŒ…ã€‚Composeå…³é”®ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Compose</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">transforms</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">transforms</span> <span class="o">=</span> <span class="n">transforms</span>

    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">img</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">transforms</span><span class="p">:</span>
            <span class="n">img</span> <span class="o">=</span> <span class="n">t</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">img</span>
</pre></div>
</div>
</div>
</div>
<p>å¯è§ï¼Œåœ¨å®ä¾‹åŒ–Composeæ—¶ï¼Œæˆ‘ä»¬éœ€è¦å°†ç”¨åˆ°çš„çš„APIï¼ŒæŒ‰é¡ºåºå­˜å…¥åˆ—è¡¨ï¼ˆä¹Ÿå¯ä»¥æ˜¯å…¶ä»–å¯è¿­ä»£å¯¹è±¡ï¼‰ä¸­ï¼Œä¼ é€’ç»™Composeã€‚Composeå†…éƒ¨æœºåˆ¶ï¼Œå°†ä¼šé¦–å…ˆå°†å›¾åƒä¼ ç»™ç¬¬ä¸€ä¸ªAPIï¼Œç„¶åå°†ç»å˜æ¢åçš„å›¾åƒä¾æ¬¡å¾€åéœ€APIä¼ é€’ã€‚å¦‚ä¸‹æ‰€ç¤ºï¼Œæˆ‘ä»¬ä½¿ç”¨Composeå¯¹å¤šä¸ªAPIè¿›è¡Œç»„åˆï¼š</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">preprocess</span> <span class="o">=</span> <span class="n">transforms</span><span class="o">.</span><span class="n">Compose</span><span class="p">([</span>
   <span class="n">transforms</span><span class="o">.</span><span class="n">Resize</span><span class="p">(</span><span class="mi">350</span><span class="p">),</span>  <span class="c1"># å˜æ¢å°ºå¯¸</span>
   <span class="n">transforms</span><span class="o">.</span><span class="n">CenterCrop</span><span class="p">(</span><span class="mi">300</span><span class="p">),</span>  <span class="c1"># è£åˆ‡ä¸­å¿ƒ180åƒç´ </span>
   <span class="n">transforms</span><span class="o">.</span><span class="n">ToTensor</span><span class="p">(),</span>  <span class="c1"># è½¬ä¸ºTensorç±»å‹</span>
   <span class="n">transforms</span><span class="o">.</span><span class="n">Normalize</span><span class="p">(</span>  <span class="c1"># æ ‡å‡†åŒ–</span>
       <span class="n">mean</span><span class="o">=</span><span class="p">[</span><span class="mf">0.485</span><span class="p">,</span> <span class="mf">0.456</span><span class="p">,</span> <span class="mf">0.406</span><span class="p">],</span>
       <span class="n">std</span><span class="o">=</span><span class="p">[</span><span class="mf">0.229</span><span class="p">,</span> <span class="mf">0.224</span><span class="p">,</span> <span class="mf">0.225</span><span class="p">]</span>
   <span class="p">)</span>
<span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">raw_img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;../image/sticker.jpeg&#39;</span><span class="p">)</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">preprocess</span><span class="p">(</span><span class="n">raw_img</span><span class="p">)</span>
<span class="n">x</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>torch.Size([3, 300, 300])
</pre></div>
</div>
</div>
</div>
<p>æˆ‘ä»¬å¯¹è¾¹å˜æ¢å‰åçš„å›¾åƒï¼š</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">show_image</span><span class="p">([(</span><span class="n">raw_img</span><span class="p">,</span> <span class="s1">&#39;åŸå§‹å›¾åƒ&#39;</span><span class="p">),(</span><span class="n">x</span><span class="p">,</span> <span class="s1">&#39;å˜æ¢å&#39;</span><span class="p">)])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/9f02d543bc989cdc465ed0fa06417aba9cc6f645c3378a7548c169d358d4e36c.png" src="../_images/9f02d543bc989cdc465ed0fa06417aba9cc6f645c3378a7548c169d358d4e36c.png" />
</div>
</div>
</section>
<section id="id4">
<h2>è‡ªå®šä¹‰å›¾åƒå˜æ¢<a class="headerlink" href="#id4" title="Link to this heading">#</a></h2>
<p>transformsæ˜¯pytorchä¸­torchvisionåŒ…æä¾›çš„å›¾åƒå˜æ¢æ¨¡å—ï¼Œæä¾›äº†å„å¼å„æ ·çš„å›¾åƒå˜æ¢APIï¼Œè¿™äº›APIéƒ½æ˜¯é€šè¿‡å¯è°ƒç”¨å¯¹è±¡ï¼Œå¯ä»¥æ˜¯å‡½æ•°ã€ä¹Ÿå¯ä»¥æ˜¯ç±»ï¼Œå¦‚æœæ˜¯ç±»ï¼Œå°±å¿…é¡»å®ç°<code class="docutils literal notranslate"><span class="pre">__call__()</span></code>æ–¹æ³•ï¼Œè‡³äºè¿”å›çš„æ•°æ®ç±»å‹ï¼Œå¹¶æ²¡æœ‰ä¸¥æ ¼é™åˆ¶ï¼Œåªè¦åç»­çš„å›¾åƒå˜æ¢APIèƒ½å¤Ÿæ¥æ”¶å°±å¥½ï¼Œä½†å°±ä¸€èˆ¬è€Œè¨€ï¼Œæœ€åä¸€ä¸ªAPIçš„éƒ½æ˜¯Tensorç±»å‹æ•°æ®ã€‚æ‰€ä»¥ï¼Œå¦‚æœè‡ªå®šä¹‰å›¾åƒå˜æ¢APIï¼Œéµå¾ªè¿™äº›è§„åˆ™å»å®šä¹‰å¯è°ƒç”¨å¯¹è±¡å°±å¥½ã€‚</p>
<p>æœ€ç®€å•çš„ï¼Œæˆ‘ä»¬ä½¿ç”¨lambdaå®šä¹‰å¯è°ƒç”¨å¯¹è±¡ï¼š</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">times_2_plus_1</span> <span class="o">=</span> <span class="n">transforms</span><span class="o">.</span><span class="n">Compose</span><span class="p">([</span>
    <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">*</span> <span class="mi">2</span><span class="p">,</span>
    <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">times_2_plus_1</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>5
</pre></div>
</div>
</div>
</div>
<p>å½“ç„¶ï¼Œè¿™å¹¶æ²¡æœ‰ä»€ä¹ˆæ„ä¹‰ï¼Œåªæ˜¯å®ç°å°†ä¸€ä¸ªæ•°å­—è¿›è¡Œå¹³æ–¹å†åŠ 1çš„å˜æ¢ï¼Œè¿™é‡Œåªæ˜¯æ¼”ç¤ºå‡½æ•°æ–¹å¼å®ç°å˜æ¢å™¨ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è¯•è¯•ç±»æ–¹å¼å¯¹å›¾åƒè¿›è¡Œå˜æ¢ï¼Œä¾‹å¦‚å›¾åƒæ—‹è½¬ï¼š</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">RandomRotation</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">angle</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">angle</span> <span class="o">=</span> <span class="n">angle</span>
    <span class="k">def</span> <span class="fm">__call__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">img</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">F</span><span class="o">.</span><span class="n">rotate</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">angle</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">raw_img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;../image/sticker.jpeg&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tran_img</span> <span class="o">=</span> <span class="n">transforms</span><span class="o">.</span><span class="n">RandomRotation</span><span class="p">(</span><span class="mi">60</span><span class="p">)(</span><span class="n">raw_img</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">show_image</span><span class="p">([(</span><span class="n">raw_img</span><span class="p">,</span> <span class="s1">&#39;åŸå§‹å›¾åƒ&#39;</span><span class="p">),(</span><span class="n">tran_img</span><span class="p">,</span> <span class="s1">&#39;æ—‹è½¬å˜æ¢å&#39;</span><span class="p">)])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/2c60562cb0c1d273be70fdebf29ec92eb12be1b51e2f31b487af32b567082ed7.png" src="../_images/2c60562cb0c1d273be70fdebf29ec92eb12be1b51e2f31b487af32b567082ed7.png" />
</div>
</div>
<p>åœ¨transformsæ¨¡å—ä¸­ï¼Œpytorchå¯¹äºå¤šæ•°å˜æ¢éƒ½åŒæ—¶æä¾›æœ‰ç±»æ–¹å¼å’Œå‡½æ•°æ–¹å¼çš„å®ç°ï¼Œä½†ç›¸è¾ƒäºå‡½æ•°ï¼Œæˆ‘æ›´åŠ æ¨èä½¿ç”¨ç±»çš„æ–¹å¼å»å®ç°å˜æ¢ï¼Œå› ä¸ºè¿™ç§æ–¹å¼èƒ½å¤Ÿåœ¨å®ä¾‹åŒ–å¯¹è±¡æ—¶ï¼Œé€šè¿‡ä¼ é€’å‚æ•°å®ç°æ›´åŠ ä¸ªæ€§åŒ–çš„å®šåˆ¶ï¼Œä¾‹å¦‚è¿›è¡Œå°ºå¯¸å˜æ¢ï¼Œå¯ä»¥åœ¨æ„é€ æ–¹æ³•ä¸­æŒ‡å®šå˜æ¢å°ºå¯¸ï¼Œè¿™æ˜¯å‡½æ•°æ–¹å¼æ— æ³•åšåˆ°çš„ã€‚å‡½æ•°æ–¹å¼æ›´å¤šæ˜¯ç”¨åœ¨å®šä¹‰å›¾åƒå˜æ¢ç±»ä½¿ç”¨ä½¿ç”¨ï¼Œå¦å¤–åœ¨åŠŸèƒ½å›ºå®šã€å•ä¸€ï¼Œä½¿ç”¨å‡½æ•°æ–¹å¼å®ç°ä¹Ÿæ˜¯ä¸é”™çš„é€‰æ‹©ã€‚</p>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="pytorchapi">
<h1>pytorchä¸­å¼€ç®±å³ç”¨çš„å›¾åƒå˜æ¢API<a class="headerlink" href="#pytorchapi" title="Link to this heading">#</a></h1>
<p>å†…å­˜ä¸­çš„å›¾åƒæ•°æ®ä¸€èˆ¬åˆ†ä¸ºä¸¤ç§ï¼Œä¸€ç§æ˜¯PILçš„Imageå¯¹è±¡ï¼Œä¸€ç§æ˜¯torch.Tensor(æ›´ä¸¥è°¨çš„è¯´ï¼Œåº”è¯¥æ˜¯torch.*Tensorï¼Œå› ä¸ºä¹Ÿå¯ä»¥æ˜¯Tensorçš„å­ç±»)ï¼Œä¸è¦æ ï¼Œæˆ‘è¿™é‡Œè¯´çš„æ˜¯å»ºæ¨¡è¿‡ç¨‹ä¸­çš„å›¾ç‰‡å½¢å¼ï¼ŒPythonå½“ç„¶ä¹Ÿå¯ä»¥ç”¨å…¶ä»–åº“æ¥æ‰“å¼€å›¾ç‰‡ã€‚ç›¸å¯¹åº”çš„ï¼Œpytorchä¸­çš„å›¾åƒå˜æ¢APIä¹Ÿåˆ†ä¸ºé’ˆå¯¹PIL.Imageå¯¹è±¡çš„APIå’Œé’ˆå¯¹Tensoræ•°æ®çš„APIä»¥åŠèƒ½åŒæ—¶ç”¨äºä¸¤ç§å›¾åƒå½¢å¼çš„APIï¼ˆå§‘ä¸”å°†è¿™ç±»APIç§°ä¸ºé€šç”¨å‹å›¾åƒå˜æ¢APIï¼‰ã€‚</p>
<p><strong>æ³¨æ„ï¼Œå³ä½¿æ˜¯é€šç”¨å‹APIï¼Œä¹Ÿå¯èƒ½å­˜åœ¨APIå†…æŸäº›å‚æ•°æˆ–å‚æ•°å€¼åªé€‚ç”¨äºTensoræˆ–PIL.Image</strong></p>
<p>æˆ‘ä»¬å…ˆæ•´ç†é€šç”¨å‹çš„APIã€‚</p>
<section id="api">
<h2>é€šç”¨å‹å›¾åƒå˜æ¢API<a class="headerlink" href="#api" title="Link to this heading">#</a></h2>
<section id="centercrop-size">
<h3>CenterCrop(size)<a class="headerlink" href="#centercrop-size" title="Link to this heading">#</a></h3>
<p>CenterCropçš„ä½œç”¨æ˜¯ä»å›¾åƒçš„ä¸­å¿ƒä½ç½®è£å‰ªæŒ‡å®šå¤§å°çš„å›¾åƒã€‚ä¾‹å¦‚ä¸€äº›ç¥ç»ç½‘ç»œçš„è¾“å…¥å›¾åƒå¤§å°ä¸º300Ã—300ï¼Œè€Œæˆ‘ä»¬ä¸Šè¿°å±•ç¤ºçš„åŸå§‹å›¾åƒçš„å¤§å°ä¸º448Ã—596ï¼Œæ­¤æ—¶å°±éœ€è¦å¯¹è®­ç»ƒå›¾åƒè¿›è¡Œè£å‰ªã€‚</p>
<p>CenterCropåªæœ‰ä¸€ä¸ªå‚æ•°ï¼š</p>
<ul class="simple">
<li><p>sizeï¼šè£åˆ‡ä¿ç•™ä¸­å¤®å¤šå°‘ä¸ªåƒç´ 
ç¤ºä¾‹ä»£ç åŠç»“æœå¦‚ä¸‹ï¼š</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">raw_img2</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>torch.Size([3, 338, 328])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">raw_img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;../image/sticker.jpeg&#39;</span><span class="p">)</span>
<span class="n">raw_img2</span> <span class="o">=</span> <span class="n">read_image</span><span class="p">(</span><span class="s1">&#39;../image/sticker.jpeg&#39;</span><span class="p">)</span>
<span class="n">size</span> <span class="o">=</span> <span class="p">(</span><span class="mi">300</span><span class="p">,</span> <span class="mi">300</span><span class="p">)</span>
<span class="n">transform</span> <span class="o">=</span> <span class="n">transforms</span><span class="o">.</span><span class="n">CenterCrop</span><span class="p">(</span><span class="n">size</span><span class="p">)</span>
<span class="n">tran_img1</span> <span class="o">=</span> <span class="n">transform</span><span class="p">(</span><span class="n">raw_img</span><span class="p">)</span>
<span class="n">tran_img2</span> <span class="o">=</span> <span class="n">transform</span><span class="p">(</span><span class="n">raw_img2</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;PIL.Imageç±»å‹æ•°æ®è£åˆ‡åè¾“å‡ºç±»å‹ä¸ºï¼š</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">tran_img1</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;torch.Tensorç±»å‹æ•°æ®è£åˆ‡åè¾“å‡ºç±»å‹ä¸ºï¼š</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">tran_img2</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">show_image</span><span class="p">([</span>
    <span class="p">(</span><span class="n">raw_img</span><span class="p">,</span> <span class="s1">&#39;åŸå§‹å›¾åƒ&#39;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">tran_img1</span><span class="p">,</span> <span class="s1">&#39;PIL.Image&#39;</span><span class="p">),</span>   <span class="c1"># å¯¹PIL.Imageç±»å‹å›¾ç‰‡è¿›è¡Œè£åˆ‡</span>
    <span class="p">(</span><span class="n">tran_img2</span><span class="p">,</span> <span class="s1">&#39;torch.Tensor&#39;</span><span class="p">)</span>  <span class="c1"># å¯¹torch.Tensorç±»å‹å›¾ç‰‡è¿›è¡Œè£åˆ‡</span>
<span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>PIL.Imageç±»å‹æ•°æ®è£åˆ‡åè¾“å‡ºç±»å‹ä¸ºï¼š&lt;class &#39;PIL.Image.Image&#39;&gt;
torch.Tensorç±»å‹æ•°æ®è£åˆ‡åè¾“å‡ºç±»å‹ä¸ºï¼š&lt;class &#39;torch.Tensor&#39;&gt;
</pre></div>
</div>
<img alt="../_images/5243f66515e9553e45d997f58d9878693a6d5a1457767edea1a94070dec08492.png" src="../_images/5243f66515e9553e45d997f58d9878693a6d5a1457767edea1a94070dec08492.png" />
</div>
</div>
<p>ä¸Šè¿°ç¤ºä¾‹ä¸­ï¼Œå¯¹PIL.Imageç±»å‹å’Œtorch.Tensorç±»å‹æ•°æ®è¿›è¡Œäº†è£åˆ‡ï¼Œè¯æ˜äº†CenterCropè¿™ç±»é€šç”¨å‹APIå¹¶ä¸ä¼šæ”¹å˜æ•°æ®ç±»å‹ï¼Œè¾“å…¥ä»€ä¹ˆç±»å‹çš„å›¾åƒï¼Œè¾“å‡ºè¿˜æ˜¯ä»€ä¹ˆç±»å‹çš„å›¾åƒï¼Œå¦å¤–ä»å›¾åƒå±•ç¤ºç»“æœä¸Šçœ‹ï¼Œå¯¹ä¸¤ç§ç±»å‹çš„å›¾åƒå˜æ¢çš„æ•ˆæœæ˜¯ä¸€æ ·çš„ã€‚</p>
</section>
<section id="resize-size">
<h3>Resize(size)<a class="headerlink" href="#resize-size" title="Link to this heading">#</a></h3>
<p>æŒ‰ç»™å®šå°ºå¯¸å¯¹å›¾åƒè¿›è¡Œç¼©æ”¾ï¼ŒResizeä¸»è¦å‚æ•°sizeå¯ä»¥ä¸ºintå‹ï¼Œæ­¤æ—¶ï¼ŒåŸå§‹å›¾åƒçŸ­è¾¹å°†ç¼©æ”¾è‡³sizeåƒç´ ï¼Œé•¿è¾¹å°†ç¼©æ”¾è‡³ï¼šsizeÃ—é•¿è¾¹Ã·çŸ­è¾¹ ã€‚ä»¥ä¸Šè¿°åŸå§‹å›¾ç‰‡ä¸ºä¾‹ï¼Œå‡è®¾è¾“å…¥size=300ï¼ŒåŸå§‹å›¾åƒçŸ­è¾¹é«˜æ˜¯448åƒç´ ï¼Œé•¿è¾¹å®½æ˜¯596åƒç´ ï¼Œæ‰€ä»¥ç¼©æ”¾åï¼Œé•¿è¾¹å®½ä¸ºï¼š300Ã—596Ã·448=399åƒç´ ï¼›å½“sizeä¸ºåºåˆ—æ—¶ï¼Œsize=(h, w)ï¼ŒåŸå§‹å›¾åƒå°†é«˜å’Œå®½åˆ†åˆ«ç¼©æ”¾è‡³hå’Œwã€‚é™¤äº†sizeå‚æ•°å¤–ï¼ŒResizeè¿˜æœ‰å…¶ä»–å‚æ•°ï¼Œå¯ä»¥å‚è€ƒ<a class="reference external" href="https://pytorch.org/vision/stable/generated/torchvision.transforms.functional.resize.html#torchvision.transforms.functional.resize">å®˜æ–¹æ–‡æ¡£</a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">raw_img</span> <span class="o">=</span> <span class="n">read_image</span><span class="p">(</span><span class="s1">&#39;../image/sticker.jpeg&#39;</span><span class="p">)</span>
<span class="n">size</span> <span class="o">=</span> <span class="p">(</span><span class="mi">300</span><span class="p">,</span> <span class="mi">300</span><span class="p">)</span>
<span class="n">transform1</span> <span class="o">=</span> <span class="n">transforms</span><span class="o">.</span><span class="n">Resize</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">300</span><span class="p">)</span>
<span class="n">transform2</span> <span class="o">=</span> <span class="n">transforms</span><span class="o">.</span><span class="n">Resize</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span> <span class="mi">300</span><span class="p">))</span>
<span class="n">tran_img1</span> <span class="o">=</span> <span class="n">transform1</span><span class="p">(</span><span class="n">raw_img</span><span class="p">)</span>
<span class="n">tran_img2</span> <span class="o">=</span> <span class="n">transform2</span><span class="p">(</span><span class="n">raw_img</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;size=300ï¼Œç¼©æ”¾åå›¾åƒå®½é«˜ä¸ºï¼š</span><span class="si">{</span><span class="n">tran_img1</span><span class="o">.</span><span class="n">shape</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;size=(300, 300)ï¼Œç¼©æ”¾åå›¾åƒå®½é«˜ä¸ºï¼š</span><span class="si">{</span><span class="n">tran_img2</span><span class="o">.</span><span class="n">shape</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">show_image</span><span class="p">([</span>
    <span class="p">(</span><span class="n">raw_img</span><span class="p">,</span> <span class="s1">&#39;åŸå§‹å›¾åƒ&#39;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">tran_img1</span><span class="p">,</span> <span class="s1">&#39;size=300&#39;</span><span class="p">),</span>   <span class="c1"># å¯¹PIL.Imageç±»å‹å›¾ç‰‡è¿›è¡Œè£åˆ‡</span>
    <span class="p">(</span><span class="n">tran_img2</span><span class="p">,</span> <span class="s1">&#39;size=(300, 300)&#39;</span><span class="p">)</span>  <span class="c1"># å¯¹torch.Tensorç±»å‹å›¾ç‰‡è¿›è¡Œè£åˆ‡</span>
<span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>size=300ï¼Œç¼©æ”¾åå›¾åƒå®½é«˜ä¸ºï¼štorch.Size([3, 309, 300])
size=(300, 300)ï¼Œç¼©æ”¾åå›¾åƒå®½é«˜ä¸ºï¼štorch.Size([3, 300, 300])
</pre></div>
</div>
<img alt="../_images/87c3cc5633be4fdd0740ec40d3b3381eed2c4ee4b3c24b6e363d10b1b155bfbb.png" src="../_images/87c3cc5633be4fdd0740ec40d3b3381eed2c4ee4b3c24b6e363d10b1b155bfbb.png" />
</div>
</div>
</section>
<section id="pad-padding-fill-0-padding-mode-constant">
<h3>Pad(padding, fill=0, padding_mode=â€™constantâ€™)<a class="headerlink" href="#pad-padding-fill-0-padding-mode-constant" title="Link to this heading">#</a></h3>
<p>å¯¹å›¾åƒè¾¹æ¡†è¿›è¡Œå¡«å……ï¼Œä¸»è¦å‚æ•°å¦‚ä¸‹ï¼š</p>
<ul class="simple">
<li><p><strong>paddingï¼šæŒ‡å®šå¡«å……åƒç´ </strong></p>
<ul>
<li><p>å¦‚æœæ˜¯æ•´å‹ï¼Œè¡¨ç¤ºå¯¹4ä¸ªè¾¹æ¡†éƒ½å¡«å……paddingä¸ªåƒç´ å€¼</p></li>
<li><p>å¦‚æœæ˜¯é•¿åº¦ä¸º2çš„åºåˆ—ï¼Œä¾‹å¦‚ï¼Œpadding=(5, 10)ï¼Œè¡¨ç¤ºå¯¹å·¦å³è¾¹æ¡†å¡«å……5ä¸ªåƒç´ å€¼ï¼Œä¸Šä¸‹è¾¹æ¡†å¡«å……10ä¸ªåƒç´ å€¼ã€‚</p></li>
<li><p>å¦‚æœæ˜¯é•¿åº¦ä¸º4çš„åºåˆ—ï¼Œä¾‹å¦‚ï¼Œpadding=(5, 10, 15, 20)ï¼Œè¡¨ç¤ºå¯¹å·¦ã€ä¸Šã€å³ã€ä¸‹åˆ†åˆ«å¡«å……5ã€10ã€15ã€20ä¸ªåƒç´ å€¼ã€‚</p></li>
</ul>
</li>
<li><p><strong>fillï¼šå¡«å……çš„å†…å®¹ï¼Œé»˜è®¤å€¼ä¸º0</strong>ã€‚<strong>æ³¨æ„ï¼Œfillçš„å€¼ä»…å½“padding_modeå€¼ä¸ºâ€™constantâ€™æ—¶æœ‰æ•ˆã€‚å½“è¾“å…¥å›¾åƒä¸ºTensoræ—¶ï¼Œfillä¸ºintå‹æ‰æœ‰æ•ˆï¼›å½“è¾“å…¥å›¾åƒä¸ºPIL.Imageæ—¶ï¼Œfillæ—¢å¯ä»¥ä¸ºintï¼Œä¹Ÿå¯ä»¥ä¸ºåºåˆ—</strong>ã€‚</p>
<ul>
<li><p>å½“fileæ˜¯é•¿åº¦ä¸º3çš„åºåˆ—æ˜¯ï¼Œåˆ†åˆ«ç”¨äºå¡«å……Rã€Gã€Bé€šé“ã€‚</p></li>
</ul>
</li>
<li><p><strong>padding_modeï¼šå¡«å……æ¨¡å¼ï¼Œå³ä»¥ä»€ä¹ˆå†…å®¹å¡«å……ã€‚é»˜è®¤ä¸ºå€¼â€™constantâ€™</strong></p>
<ul>
<li><p>constantï¼šå¸¸é‡å¡«å……ï¼Œå¡«å……çš„å†…å®¹ç”±fillå‚æ•°æŒ‡å®šã€‚</p></li>
<li><p>edgeï¼šç”¨åŸå§‹å›¾åƒçš„æœ€åä¸€ä¸ªåƒç´ å€¼å¡«å……ã€‚</p></li>
<li><p>reflectï¼šåœ¨è¾¹ç¼˜ä¸Šä¸é‡å¤æœ€åä¸€ä¸ªå€¼çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨å›¾åƒåå°„è¿›è¡Œå¡«å……ã€‚ä¾‹å¦‚ï¼Œå›¾åƒæŸä¸€è¡Œåƒç´ ä¸º[1ï¼Œ2ï¼Œ3ï¼Œ4]ï¼Œå·¦å³ä¸¤è¾¹å……å¡«ä¸¤ä¸ªåƒç´ ï¼Œå› ä¸ºä¸é‡å¤è¾¹ç•Œåƒç´ ï¼Œå·¦ä¾§çš„åƒç´ å€¼1å’Œå³ä¾§çš„åƒç´ å€¼4ä¸è¿›è¡Œåå°„ï¼Œå·¦ä¾§å°±æ³•åˆ™2å’Œ3ï¼Œå‘å°„åæˆäº†3å’Œ2ï¼Œå¡«å……åˆ°å›¾åƒå·¦ä¾§ï¼Œå³ä¾§åå°„2å’Œ3ï¼Œåå°„åæˆäº†3å’Œ2ï¼Œå¡«å……åˆ°å›¾åƒå³ä¾§ï¼Œæœ€ç»ˆè¿™ä¸€è¡Œåƒç´ å€¼å˜æˆ[3ï¼Œ2ï¼Œ1ï¼Œ2ï¼Œ4ï¼Œ3ï¼Œ2]ã€‚</p></li>
<li><p>symmetricï¼šå°±æ˜¯reflectæ–¹å¼å¡«å……ï¼Œåªä¸è¿‡é‡å¤è¾¹ç•Œåƒç´ å€¼ã€‚[1ï¼Œ2ï¼Œ3ï¼Œ4]ä½¿ç”¨è¿™ç§æ–¹å¼å¡«å……åä¸º[2, 1, 1, 2, 3, 4, 4, 3]ã€‚</p></li>
</ul>
</li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">raw_img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;../image/sticker.jpeg&#39;</span><span class="p">)</span>
<span class="n">show_image</span><span class="p">([</span>
    <span class="p">(</span>
        <span class="n">transforms</span><span class="o">.</span><span class="n">Pad</span><span class="p">(</span><span class="n">padding</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">padding_mode</span><span class="o">=</span><span class="s1">&#39;constant&#39;</span><span class="p">)(</span><span class="n">raw_img</span><span class="p">),</span>
        <span class="s2">&quot;padding=20, </span><span class="se">\n</span><span class="s2"> fill=0, </span><span class="se">\n</span><span class="s2"> padding_mode=&#39;constant&#39;&quot;</span>
    <span class="p">),</span>
    <span class="p">(</span>
        <span class="n">transforms</span><span class="o">.</span><span class="n">Pad</span><span class="p">(</span><span class="n">padding</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">),</span> <span class="n">padding_mode</span><span class="o">=</span><span class="s1">&#39;constant&#39;</span><span class="p">)(</span><span class="n">raw_img</span><span class="p">),</span>
        <span class="s2">&quot;padding=20, </span><span class="se">\n</span><span class="s2"> fill=(0, 0, 255), </span><span class="se">\n</span><span class="s2"> padding_mode=&#39;constant&#39;&quot;</span>
    <span class="p">),</span>
    <span class="p">(</span>
        <span class="n">transforms</span><span class="o">.</span><span class="n">Pad</span><span class="p">(</span><span class="n">padding</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">padding_mode</span><span class="o">=</span><span class="s1">&#39;edge&#39;</span><span class="p">)(</span><span class="n">raw_img</span><span class="p">),</span>
        <span class="s2">&quot;padding=200, </span><span class="se">\n</span><span class="s2"> padding_mode=&#39;edge&#39;&quot;</span>
    <span class="p">),</span>
    <span class="p">(</span>
        <span class="n">transforms</span><span class="o">.</span><span class="n">Pad</span><span class="p">(</span><span class="n">padding</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">padding_mode</span><span class="o">=</span><span class="s1">&#39;reflect&#39;</span><span class="p">)(</span><span class="n">raw_img</span><span class="p">),</span>
        <span class="s2">&quot;padding=200, </span><span class="se">\n</span><span class="s2"> padding_mode=&#39;reflect&#39;&quot;</span>
    <span class="p">),</span>
    
    <span class="p">(</span>
        <span class="n">transforms</span><span class="o">.</span><span class="n">Pad</span><span class="p">(</span><span class="n">padding</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">padding_mode</span><span class="o">=</span><span class="s1">&#39;symmetric&#39;</span><span class="p">)(</span><span class="n">raw_img</span><span class="p">),</span>
        <span class="s2">&quot;padding=200, </span><span class="se">\n</span><span class="s2"> padding_mode=&#39;reflect&#39;&quot;</span>
    <span class="p">),</span>
    
<span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/5d65efa8eb452ebb0b20ff50846ee554999f7c1ae93969227b2ad3eab09f6357.png" src="../_images/5d65efa8eb452ebb0b20ff50846ee554999f7c1ae93969227b2ad3eab09f6357.png" />
</div>
</div>
</section>
<section id="colorjitter-brightness-0-contrast-0-saturation-0-hue-0">
<h3>ColorJitter(brightness=0, contrast=0, saturation=0, hue=0)<a class="headerlink" href="#colorjitter-brightness-0-contrast-0-saturation-0-hue-0" title="Link to this heading">#</a></h3>
<p>ColorJitterçš„ä½œç”¨æ˜¯éšæœºä¿®æ”¹å›¾ç‰‡çš„äº®åº¦ã€å¯¹æ¯”åº¦ã€é¥±å’Œåº¦ã€è‰²è°ƒï¼Œå¸¸ç”¨æ¥è¿›è¡Œæ•°æ®å¢å¼ºï¼Œå°¤å…¶æ˜¯è®­ç»ƒå›¾åƒç±»åˆ«ä¸å‡è¡¡æˆ–å›¾åƒæ•°é‡è¾ƒå°‘æ—¶ã€‚**æ³¨æ„ï¼Œå¦‚æœè¾“å…¥å›¾åƒä¸ºPIL.Imageå¯¹è±¡ï¼Œé‚£ä¹ˆï¼Œå¦‚æœæ‰“å¼€æ¨¡å¼ä¸ºâ€œ1â€, â€œIâ€, â€œFâ€æˆ–è€…å›¾åƒé€æ˜ï¼Œå°†ä¼šäº§ç”Ÿå¼‚å¸¸ã€‚**å¸¸ç”¨å‚æ•°å¦‚ä¸‹ï¼š</p>
<ul class="simple">
<li><p>brightnessï¼šäº®åº¦å˜æ¢èŒƒå›´ï¼Œé»˜è®¤å€¼ä¸º0ï¼Œå³ä¸å˜æ¢äº®åº¦</p>
<ul>
<li><p>å€¼ä¸ºfloatæ—¶ï¼Œ äº®åº¦å°†åœ¨[max(0, 1 - brightness), 1 + brightness] èŒƒå›´å˜åŒ–ã€‚</p></li>
<li><p>å€¼ä¸º(min, max)æ—¶ï¼Œäº®åº¦å°†åœ¨[min, max]èŒƒå›´å†…å˜åŒ–ã€‚ä¸èƒ½ä¸ºè´Ÿæ•°ã€‚</p></li>
</ul>
</li>
<li><p>contrastï¼šå¯¹æ¯”åº¦ï¼Œé»˜è®¤å€¼ä¸º0ï¼Œå³ä¸å˜æ¢å¯¹æ¯”åº¦</p>
<ul>
<li><p>å€¼ä¸ºfloatæ—¶ï¼Œ å¯¹æ¯”åº¦å°†åœ¨[max(0, 1 - brightness), 1 + brightness] èŒƒå›´å˜åŒ–ã€‚</p></li>
<li><p>å€¼ä¸º(min, max)æ—¶ï¼Œå¯¹æ¯”åº¦å°†åœ¨[min, max]èŒƒå›´å†…å˜åŒ–ã€‚ä¸èƒ½ä¸ºè´Ÿæ•°ã€‚</p></li>
</ul>
</li>
<li><p>saturationï¼šé¥±å’Œåº¦ï¼Œé»˜è®¤å€¼ä¸º0ï¼Œå³ä¸å˜æ¢é¥±å’Œåº¦</p>
<ul>
<li><p>å€¼ä¸ºfloatæ—¶ï¼Œ é¥±å’Œåº¦å°†åœ¨[max(0, 1 - brightness), 1 + brightness] èŒƒå›´å˜åŒ–ã€‚</p></li>
<li><p>å€¼ä¸º(min, max)æ—¶ï¼Œé¥±å’Œåº¦å°†åœ¨[min, max]èŒƒå›´å†…å˜åŒ–ã€‚ä¸èƒ½ä¸ºè´Ÿæ•°ã€‚</p></li>
</ul>
</li>
<li><p>hueï¼šè‰²è°ƒï¼Œé»˜è®¤å€¼ä¸º0ï¼Œå³ä¸å˜æ¢è‰²è°ƒ</p>
<ul>
<li><p>å€¼ä¸ºfloatæ—¶ï¼Œ è‰²è°ƒå°†åœ¨[-hue, hue] èŒƒå›´å˜åŒ–ã€‚</p></li>
<li><p>å€¼ä¸º(min, max)æ—¶ï¼Œè‰²è°ƒå°†åœ¨[min, max]èŒƒå›´å†…å˜åŒ–ã€‚å–å€¼å»ºè®®ï¼š0&lt;=hue&lt;=0.5æˆ–-0.5&lt;=min&lt;=max&lt;=0.5ã€‚</p></li>
</ul>
</li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">raw_img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;../image/sticker.jpeg&#39;</span><span class="p">)</span>
<span class="n">show_image</span><span class="p">([</span>
    <span class="p">(</span>
        <span class="n">raw_img</span><span class="p">,</span> <span class="s1">&#39;åŸå§‹å›¾åƒ&#39;</span>
    <span class="p">),</span>
    <span class="p">(</span>
        <span class="n">transforms</span><span class="o">.</span><span class="n">ColorJitter</span><span class="p">(</span><span class="n">brightness</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">))(</span><span class="n">raw_img</span><span class="p">),</span>
        <span class="s2">&quot;éšæœºå˜æ¢äº®åº¦</span><span class="se">\n</span><span class="s2">brightness=(1, 10)&quot;</span>
    <span class="p">),</span>
    <span class="p">(</span>
        <span class="n">transforms</span><span class="o">.</span><span class="n">ColorJitter</span><span class="p">(</span><span class="n">contrast</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">))(</span><span class="n">raw_img</span><span class="p">),</span>
        <span class="s2">&quot;éšæœºå˜æ¢å¯¹æ¯”åº¦</span><span class="se">\n</span><span class="s2">contrast=(1, 10)&quot;</span>
    <span class="p">),</span>
    <span class="p">(</span>
        <span class="n">transforms</span><span class="o">.</span><span class="n">ColorJitter</span><span class="p">(</span><span class="n">saturation</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">))(</span><span class="n">raw_img</span><span class="p">),</span>
        <span class="s2">&quot;éšæœºå˜æ¢é¥±å’Œåº¦</span><span class="se">\n</span><span class="s2">saturation=(1, 10)&quot;</span>
    <span class="p">),</span>
    <span class="p">(</span>
        <span class="n">transforms</span><span class="o">.</span><span class="n">ColorJitter</span><span class="p">(</span><span class="n">hue</span><span class="o">=</span><span class="p">(</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">))(</span><span class="n">raw_img</span><span class="p">),</span>
        <span class="s2">&quot;éšæœºå˜æ¢è‰²è°ƒ</span><span class="se">\n</span><span class="s2">hue=(0.2, 0.4)&quot;</span>
    <span class="p">),</span>
    <span class="p">(</span>
        <span class="n">transforms</span><span class="o">.</span><span class="n">ColorJitter</span><span class="p">(</span><span class="n">brightness</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="n">contrast</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="n">saturation</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="n">hue</span><span class="o">=</span><span class="p">(</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">))(</span><span class="n">raw_img</span><span class="p">),</span>
        <span class="s2">&quot;padding=20, </span><span class="se">\n</span><span class="s2"> fill=0, </span><span class="se">\n</span><span class="s2"> padding_mode=&#39;constant&#39;&quot;</span>
    <span class="p">)</span>
    
<span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/1927cf80dceefdf05365ad7fd4f7cc9f2cefcef7873fb2dfeb8103d46da744dd.png" src="../_images/1927cf80dceefdf05365ad7fd4f7cc9f2cefcef7873fb2dfeb8103d46da744dd.png" />
</div>
</div>
</section>
<section id="randomrotation-degrees-interpolation">
<h3>RandomRotation(degrees[, interpolation, â€¦])<a class="headerlink" href="#randomrotation-degrees-interpolation" title="Link to this heading">#</a></h3>
<p>æŒ‡å®šè§’åº¦èŒƒå›´éšæœºæ—‹è½¬å›¾åƒã€‚</p>
<ul class="simple">
<li><p>degreesï¼šæ—‹è½¬è§’åº¦èŒƒå›´</p>
<ul>
<li><p>å½“å€¼ä¸º(min, max)æ—¶ï¼Œè¡¨ç¤ºåœ¨(min, max)èŒƒå›´å†…éšæœºé€‰å–ä¸€è§’åº¦å¯¹å›¾åƒè¿›è¡Œæ—‹è½¬</p></li>
<li><p>å½“å€¼ä¸ºæ•°å€¼æ—¶ï¼Œç­‰åŒäº(-degrees, +degrees)</p></li>
</ul>
</li>
<li><p>interpolationï¼šæ’å€¼æ–¹å¼</p></li>
<li><p>expandï¼šæ˜¯å¦å¯¹å›¾åƒè¿›è¡Œæ‰©å±•ï¼Œä»¥å±•ç¤ºæ•´ä¸ªæ—‹è½¬åå›¾åƒã€‚</p></li>
<li><p>centerï¼šå€¼ä¸º(a, b), å›´ç»•å›¾åƒä¸­å“ªä¸ªç‚¹è¿›è¡Œæ—‹è½¬, é»˜è®¤å›´ç»•ä¸­å¿ƒç‚¹æ—‹è½¬</p></li>
<li><p>fill: å¡«å……æ—‹è½¬åå›¾åƒå¤–çš„å†…å®¹</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">raw_img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;../image/sticker.jpeg&#39;</span><span class="p">)</span>
<span class="n">show_image</span><span class="p">([</span>
    <span class="p">(</span>
        <span class="n">raw_img</span><span class="p">,</span> <span class="s1">&#39;åŸå§‹å›¾åƒ&#39;</span>
    <span class="p">),</span>
    <span class="p">(</span>
        <span class="n">transforms</span><span class="o">.</span><span class="n">RandomRotation</span><span class="p">(</span><span class="n">degrees</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">60</span><span class="p">))(</span><span class="n">raw_img</span><span class="p">),</span>
        <span class="s2">&quot;degrees=(20, 60)&quot;</span>
    <span class="p">),</span>
    <span class="p">(</span>
        <span class="n">transforms</span><span class="o">.</span><span class="n">RandomRotation</span><span class="p">(</span><span class="n">degrees</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">)(</span><span class="n">raw_img</span><span class="p">),</span>
        <span class="s2">&quot;degrees=60, </span><span class="se">\n</span><span class="s2">expand=True&quot;</span>
    <span class="p">),</span>
    <span class="p">(</span>
        <span class="n">transforms</span><span class="o">.</span><span class="n">RandomRotation</span><span class="p">(</span><span class="n">degrees</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span> <span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">))(</span><span class="n">raw_img</span><span class="p">),</span>
        <span class="s2">&quot;degrees=60, </span><span class="se">\n</span><span class="s2">center=(0, 0)&quot;</span>
    <span class="p">),</span>
    <span class="p">(</span>
        <span class="n">transforms</span><span class="o">.</span><span class="n">RandomRotation</span><span class="p">(</span><span class="n">degrees</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">))(</span><span class="n">raw_img</span><span class="p">),</span>
        <span class="s2">&quot;degrees=60, </span><span class="se">\n</span><span class="s2">fill=(0, 0, 255)&quot;</span>
    <span class="p">)</span>
    
<span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/0056be4e809485259942b2af05132080c2df999226affb7b74cf92c1d7feeeef.png" src="../_images/0056be4e809485259942b2af05132080c2df999226affb7b74cf92c1d7feeeef.png" />
</div>
</div>
</section>
<section id="gaussianblur-kernel-size-sigma">
<h3>GaussianBlur(kernel_size[, sigma])<a class="headerlink" href="#gaussianblur-kernel-size-sigma" title="Link to this heading">#</a></h3>
<p>é«˜æ–¯æ¨¡ç³Šã€‚</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">raw_img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;../image/sticker.jpeg&#39;</span><span class="p">)</span>
<span class="n">show_image</span><span class="p">([</span>
    <span class="p">(</span>
        <span class="n">raw_img</span><span class="p">,</span> <span class="s1">&#39;åŸå§‹å›¾åƒ&#39;</span>
    <span class="p">),</span>
    <span class="p">(</span>
        <span class="n">transforms</span><span class="o">.</span><span class="n">GaussianBlur</span><span class="p">(</span><span class="n">kernel_size</span> <span class="o">=</span><span class="mi">11</span><span class="p">)(</span><span class="n">raw_img</span><span class="p">),</span>
        <span class="s2">&quot;kernel_size =11&quot;</span>
    <span class="p">),</span>
    <span class="p">(</span>
        <span class="n">transforms</span><span class="o">.</span><span class="n">GaussianBlur</span><span class="p">(</span><span class="n">kernel_size</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">9</span><span class="p">),</span> <span class="n">sigma</span><span class="o">=</span><span class="p">(</span><span class="mf">0.1</span><span class="p">,</span> <span class="mi">10</span><span class="p">))(</span><span class="n">raw_img</span><span class="p">),</span>
        <span class="s2">&quot;kernel_size=(5, 9), </span><span class="se">\n</span><span class="s2">sigma=(0.1, 10)&quot;</span>
    <span class="p">),</span>
    <span class="p">(</span>
        <span class="n">transforms</span><span class="o">.</span><span class="n">GaussianBlur</span><span class="p">(</span><span class="n">kernel_size</span> <span class="o">=</span><span class="mi">99</span><span class="p">,</span><span class="n">sigma</span><span class="o">=</span><span class="mi">5</span><span class="p">)(</span><span class="n">raw_img</span><span class="p">),</span>
        <span class="s2">&quot;kernel_size =99,</span><span class="se">\n</span><span class="s2">sigma=5&quot;</span>
    <span class="p">)</span>
    
<span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/075e67ae749529671ecaba15e5341704f0ae534807026f0abe1e5d716be82ee8.png" src="../_images/075e67ae749529671ecaba15e5341704f0ae534807026f0abe1e5d716be82ee8.png" />
</div>
</div>
</section>
<section id="fivecrop-size-tencrop-size-vertical-flip-false">
<h3>FiveCrop(size)ä¸ TenCrop(size, vertical_flip=False)<a class="headerlink" href="#fivecrop-size-tencrop-size-vertical-flip-false" title="Link to this heading">#</a></h3>
<p>åˆ†åˆ«ä»å›¾åƒçš„å››ä¸ªè§’ä»¥åŠä¸­å¿ƒè¿›è¡Œäº”æ¬¡è£å‰ªï¼Œæœ€ç»ˆå°†è¿”å›ä¸€ä¸ªåŒ…å«5å¼ è£åˆ‡åå›¾ç‰‡çš„tupleã€‚</p>
<ul class="simple">
<li><p>sizeï¼šè£åˆ‡å°ºå¯¸</p>
<ul>
<li><p>å½“å€¼ä¸º(h, w)æ—¶ï¼Œåœ¨åŸå§‹å›¾åƒå››ä¸ªè§’ä»¥åŠä¸­å¿ƒå„é‡‡å–ä¸€å¼ h Ã— wçš„å›¾åƒ</p></li>
<li><p>å½“å€¼ä¸ºintæ—¶ï¼Œç­‰åŒäº(size, size)</p></li>
</ul>
</li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">raw_img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;../image/sticker.jpeg&#39;</span><span class="p">)</span>
<span class="n">trans</span> <span class="o">=</span> <span class="n">transforms</span><span class="o">.</span><span class="n">FiveCrop</span><span class="p">((</span><span class="mi">200</span><span class="p">,</span> <span class="mi">200</span><span class="p">))</span>
<span class="n">trans_imgs</span> <span class="o">=</span> <span class="n">trans</span><span class="p">(</span><span class="n">raw_img</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;è½¬æ¢åè¾“å‡ºå˜é‡ç±»å‹ä¸ºï¼š</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">trans_imgs</span><span class="p">)</span><span class="si">}</span><span class="s1">, è¾“å‡ºå˜é‡é•¿åº¦ä¸ºï¼š</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">trans_imgs</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">show_image</span><span class="p">([</span>
    <span class="p">(</span><span class="n">raw_img</span><span class="p">,</span> <span class="s1">&#39;åŸå§‹å›¾åƒ&#39;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">trans_imgs</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s1">&#39;å·¦ä¸Šè§’&#39;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">trans_imgs</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="s1">&#39;å³ä¸Šè§’&#39;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">trans_imgs</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="s1">&#39;å·¦ä¸‹è§’&#39;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">trans_imgs</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="s1">&#39;å³ä¸‹è§’&#39;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">trans_imgs</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="s1">&#39;ä¸­å¿ƒ&#39;</span><span class="p">),</span>
<span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>è½¬æ¢åè¾“å‡ºå˜é‡ç±»å‹ä¸ºï¼š&lt;class &#39;tuple&#39;&gt;, è¾“å‡ºå˜é‡é•¿åº¦ä¸ºï¼š5
</pre></div>
</div>
<img alt="../_images/1d63f8ed84e3f201c92508e76ba70d2a7e9f9889317339d0cd5715b90abbf148.png" src="../_images/1d63f8ed84e3f201c92508e76ba70d2a7e9f9889317339d0cd5715b90abbf148.png" />
</div>
</div>
<p>å†æ¥è¯´TenCrop(size, vertical_flip=False)ã€‚</p>
<p>TenCrop(size, vertical_flip=False)å°±æ˜¯åœ¨FiveCrop(size)çš„åŸºç¡€ä¸Šï¼Œå¯¹åŸå§‹å›¾åƒè¿›è¡Œæ°´å¹³æˆ–è€…å‚ç›´ç¿»è½¬ï¼Œç„¶ååœ¨ä»ç¿»è½¬åå›¾åƒçš„å››ä¸ªè§’ä»¥åŠä¸­å¿ƒè¿›è¡Œäº”æ¬¡è£å‰ªï¼Œæ‰€ä»¥ä¸€å…±è·å–äº†10å¼ å›¾åƒè¿”å›ã€‚å‚æ•°vertical_flipé»˜è®¤å€¼ä¸ºFalseï¼Œè¡¨ç¤ºè¿›è¡Œæ°´å¹³ç¿»è½¬ï¼Œå€¼ä¸ºTrueæ—¶ï¼Œè¡¨ç¤ºè¿›è¡Œå‚ç›´ç¿»è½¬åœ¨è£å‰ªã€‚</p>
</section>
<section id="grayscale-num-output-channels-1-randomgrayscale-p-0-1">
<h3>Grayscale(num_output_channels=1) RandomGrayscale(p=0.1)<a class="headerlink" href="#grayscale-num-output-channels-1-randomgrayscale-p-0-1" title="Link to this heading">#</a></h3>
<p>å°†å›¾åƒè½¬æ¢ä¸ºç°åº¦å›¾åƒï¼Œé»˜è®¤é€šé“æ•°ä¸º1ï¼Œé€šé“æ•°ä¸º3æ—¶ï¼ŒRGBä¸‰ä¸ªé€šé“çš„å€¼ç›¸ç­‰ã€‚</p>
<ul class="simple">
<li><p>num_output_channels ï¼šæŒ‡å®šæœ€ç»ˆè¾“å‡ºå›¾åƒçš„é€šé“æ•°ï¼Œå€¼ä¸º1æ—¶ï¼Œæœ€ç»ˆè¾“å‡ºåªæœ‰ä¸€ä¸ªé€šé“çš„ç°åº¦å›¾åƒï¼Œå€¼ä¸º3æ—¶ï¼Œè¾“å‡ºä¸‰ä¸ªé€šåˆ°å€¼ç›¸ç­‰çš„ç°åº¦å›¾åƒã€‚é»˜è®¤å€¼ä¸º1ã€‚</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">raw_img</span> <span class="o">=</span> <span class="n">read_image</span><span class="p">(</span><span class="s1">&#39;../image/sticker.jpeg&#39;</span><span class="p">)</span>
<span class="n">transform1</span> <span class="o">=</span> <span class="n">transforms</span><span class="o">.</span><span class="n">Grayscale</span><span class="p">(</span><span class="n">num_output_channels</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">transform2</span> <span class="o">=</span> <span class="n">transforms</span><span class="o">.</span><span class="n">Grayscale</span><span class="p">(</span><span class="n">num_output_channels</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">tran_img1</span> <span class="o">=</span> <span class="n">transform1</span><span class="p">(</span><span class="n">raw_img</span><span class="p">)</span>
<span class="n">tran_img2</span> <span class="o">=</span> <span class="n">transform2</span><span class="p">(</span><span class="n">raw_img</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;num_output_channels=1æ—¶ï¼Œè¾“å‡ºä¸ºï¼š</span><span class="si">{</span><span class="n">tran_img1</span><span class="o">.</span><span class="n">shape</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;num_output_channels=3æ—¶ï¼Œè¾“å‡ºä¸ºï¼š</span><span class="si">{</span><span class="n">tran_img2</span><span class="o">.</span><span class="n">shape</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">show_image</span><span class="p">([</span>
    <span class="p">(</span><span class="n">tran_img1</span><span class="p">,</span> <span class="s1">&#39;num_output_channels=1&#39;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">tran_img2</span><span class="p">,</span> <span class="s1">&#39;num_output_channels=3&#39;</span><span class="p">)</span>
<span class="p">],</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;gray&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>num_output_channels=1æ—¶ï¼Œè¾“å‡ºä¸ºï¼štorch.Size([1, 338, 328])
num_output_channels=3æ—¶ï¼Œè¾“å‡ºä¸ºï¼štorch.Size([3, 338, 328])
</pre></div>
</div>
<img alt="../_images/9139fdd4646cac1f287468d93f6ff5eb42d1c13bf47660af6a374efeecda6ba8.png" src="../_images/9139fdd4646cac1f287468d93f6ff5eb42d1c13bf47660af6a374efeecda6ba8.png" />
</div>
</div>
<p>RandomGrayscaleä»¥ä¸€å®šçš„æ¦‚ç‡å°†å›¾åƒå˜ä¸ºç°åº¦å›¾åƒã€‚å®é™…ä¸Šå°±æ˜¯ä»¥ä¸€å®šçš„æ¦‚ç‡æ‰§è¡Œtorchvision.transforms.Grayscaleã€‚å‚æ•°åªæœ‰ä¸€ä¸ªæ¦‚ç‡å€¼pï¼Œé»˜è®¤å€¼ä¸º0.1ã€‚è¿™é‡Œä¸å†æ¼”ç¤ºã€‚</p>
</section>
<section id="randomsolarize-threshold-p-0-5">
<h3>RandomSolarize(threshold, p=0.5)<a class="headerlink" href="#randomsolarize-threshold-p-0-5" title="Link to this heading">#</a></h3>
<p>ä»¥ä¸€å®šæ¦‚ç‡å°†è¶…è¿‡ç»™å®šé˜ˆå€¼çš„åƒç´ å€¼è¿›è¡Œåè½¬ã€‚</p>
<ul class="simple">
<li><p>thresholdï¼šåè½¬åƒç´ é˜ˆå€¼</p></li>
<li><p>p: æ¦‚ç‡å€¼</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">raw_img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;../image/sticker.jpeg&#39;</span><span class="p">)</span>
<span class="n">show_image</span><span class="p">([</span>
    <span class="p">(</span>
        <span class="n">raw_img</span><span class="p">,</span> <span class="s1">&#39;åŸå§‹å›¾åƒ&#39;</span>
    <span class="p">),</span>
    <span class="p">(</span>
        <span class="n">transforms</span><span class="o">.</span><span class="n">RandomSolarize</span><span class="p">(</span><span class="n">threshold</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="mi">1</span><span class="p">)(</span><span class="n">raw_img</span><span class="p">),</span>
        <span class="s2">&quot;threshold=60, p=1&quot;</span>
    <span class="p">),</span>
    <span class="p">(</span>
        <span class="n">transforms</span><span class="o">.</span><span class="n">RandomSolarize</span><span class="p">(</span><span class="n">threshold</span><span class="o">=</span><span class="mi">150</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="mi">1</span><span class="p">)(</span><span class="n">raw_img</span><span class="p">),</span>
        <span class="s2">&quot;threshold=150, p=1&quot;</span>
    <span class="p">),</span>
    <span class="p">(</span>
        <span class="n">transforms</span><span class="o">.</span><span class="n">RandomSolarize</span><span class="p">(</span><span class="n">threshold</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="mi">1</span><span class="p">)(</span><span class="n">raw_img</span><span class="p">),</span>
        <span class="s2">&quot;threshold=200, p=1&quot;</span>
    <span class="p">)</span>
<span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/b79d8b1d734eeae98286c89eebd9dc52b6c86bce00ac1a8369d09b5558ea5835.png" src="../_images/b79d8b1d734eeae98286c89eebd9dc52b6c86bce00ac1a8369d09b5558ea5835.png" />
</div>
</div>
</section>
<section id="randomaffine-degrees-translate-none-scale-none-shear-none-resample-false-fillcolor-0">
<h3>RandomAffine(degrees, translate=None, scale=None, shear=None, resample=False, fillcolor=0)<a class="headerlink" href="#randomaffine-degrees-translate-none-scale-none-shear-none-resample-false-fillcolor-0" title="Link to this heading">#</a></h3>
<p>RandomAffineçš„ä½œç”¨æ˜¯ä¿æŒå›¾åƒä¸­å¿ƒä¸å˜çš„æƒ…å†µä¸‹å¯¹å›¾åƒè¿›è¡Œéšæœºçš„ä»¿å°„å˜æ¢ã€‚</p>
<ul class="simple">
<li><p>degreesï¼šåº¦æ•°èŒƒå›´ã€‚</p>
<ul>
<li><p>å€¼ä¸ºï¼ˆminï¼Œmaxï¼‰æ—¶ï¼Œè¡¨ç¤ºåœ¨ï¼ˆminï¼Œmaxï¼‰ä¹‹é—´éšæœºå˜æ¢è§’åº¦</p></li>
<li><p>å€¼ä¸ºintæ—¶ï¼Œç­‰åŒäºï¼ˆ-degreesï¼Œdegreesï¼‰</p></li>
</ul>
</li>
<li><p>translateï¼šä½ç§»è·ç¦»ã€‚å€¼ä¸ºtupleç±»å‹ï¼Œä¾‹å¦‚translate=ï¼ˆaï¼Œbï¼‰ï¼Œåˆ™åœ¨èŒƒå›´[-å›¾åƒå®½åº¦ Ã— a, å›¾åƒå®½åº¦ Ã— a]ä¸­éšæœºé‡‡æ ·æ°´å¹³ç§»ä½ï¼Œåœ¨èŒƒå›´[-å›¾åƒé«˜åº¦ Ã— b, å›¾åƒé«˜åº¦ Ã— b]ä¸­éšæœºé‡‡æ ·å‚ç›´ç§»ä½ã€‚é»˜è®¤å€¼ä¸º0ï¼Œè¡¨ç¤ºä¸è¿›è¡Œä½ç§»ã€‚</p></li>
<li><p>scaleï¼šç¼©æ”¾ã€‚å€¼ä¸ºtupleç±»å‹ï¼Œä¾‹å¦‚translate=ï¼ˆaï¼Œbï¼‰ï¼Œè¡¨ç¤ºåœ¨[a, b]èŒƒå›´å†…éšæœºé‡‡æ ·è¿›è¡Œç¼©æ”¾ï¼Œé»˜è®¤æƒ…å†µä¸‹å°†ä¿æŒåŸå§‹æ¯”ä¾‹ã€‚</p></li>
<li><p>shear:å¯ä»ä¸­é€‰æ‹©çš„åº¦æ•°èŒƒå›´ã€‚ä»¿å°„å˜æ¢çš„è§’åº¦ã€‚</p></li>
<li><p>interpolationï¼šæ’å€¼çš„æ–¹æ³•ã€‚</p></li>
<li><p>fill:å¡«å……åƒç´ çš„å€¼ã€‚é»˜è®¤ä¸º0.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">raw_img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;../image/sticker.jpeg&#39;</span><span class="p">)</span>
<span class="n">show_image</span><span class="p">([</span>
    <span class="p">(</span>
        <span class="n">raw_img</span><span class="p">,</span> <span class="s1">&#39;åŸå§‹å›¾åƒ&#39;</span>
    <span class="p">),</span>
    <span class="p">(</span>
        <span class="n">transforms</span><span class="o">.</span><span class="n">RandomAffine</span><span class="p">(</span><span class="n">degrees</span><span class="o">=</span><span class="mi">60</span><span class="p">)(</span><span class="n">raw_img</span><span class="p">),</span>
        <span class="s2">&quot;degrees=60&quot;</span>
    <span class="p">),</span>
    <span class="p">(</span>
        <span class="n">transforms</span><span class="o">.</span><span class="n">RandomAffine</span><span class="p">(</span><span class="n">degrees</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">translate</span><span class="o">=</span><span class="p">(</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">))(</span><span class="n">raw_img</span><span class="p">),</span>
        <span class="s2">&quot;translate=(0.2, 0.6)&quot;</span>
    <span class="p">),</span>
    <span class="p">(</span>
        <span class="n">transforms</span><span class="o">.</span><span class="n">RandomAffine</span><span class="p">(</span><span class="n">degrees</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="p">(</span><span class="mf">0.4</span><span class="p">,</span> <span class="mf">0.8</span><span class="p">))(</span><span class="n">raw_img</span><span class="p">),</span>
        <span class="s2">&quot;scale=(0.4, 0.8)&quot;</span>
    <span class="p">),</span>
    <span class="p">(</span>
        <span class="n">transforms</span><span class="o">.</span><span class="n">RandomAffine</span><span class="p">(</span><span class="n">degrees</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">shear</span><span class="o">=</span><span class="mi">60</span><span class="p">)(</span><span class="n">raw_img</span><span class="p">),</span>
        <span class="s2">&quot;shear=60&quot;</span>
    <span class="p">),</span>
    <span class="p">(</span>
        <span class="n">transforms</span><span class="o">.</span><span class="n">RandomAffine</span><span class="p">(</span><span class="n">degrees</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">shear</span><span class="o">=</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">80</span><span class="p">))(</span><span class="n">raw_img</span><span class="p">),</span>
        <span class="s2">&quot;shear=(30, 80)&quot;</span>
    <span class="p">),</span>
    <span class="p">(</span>
        <span class="n">transforms</span><span class="o">.</span><span class="n">RandomAffine</span><span class="p">(</span><span class="n">degrees</span><span class="o">=</span><span class="mi">80</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">))(</span><span class="n">raw_img</span><span class="p">),</span>
        <span class="s2">&quot;degrees=80,</span><span class="se">\n</span><span class="s2">fill=(0, 255, 255)&quot;</span>
    <span class="p">),</span>
<span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/82c418d62fbd766b4fcddf0ea152e347895ccba24c6e4539e4365b07008797be.png" src="../_images/82c418d62fbd766b4fcddf0ea152e347895ccba24c6e4539e4365b07008797be.png" />
</div>
</div>
</section>
<section id="randomcrop-size-padding-none-pad-if-needed-false-fill-0-padding-mode-constant">
<h3>RandomCrop(size, padding=None, pad_if_needed=False, fill=0, padding_mode=â€™constantâ€™)<a class="headerlink" href="#randomcrop-size-padding-none-pad-if-needed-false-fill-0-padding-mode-constant" title="Link to this heading">#</a></h3>
<p>åœ¨ä¸€ä¸ªéšæœºä½ç½®ä¸Šå¯¹å›¾åƒè¿›è¡Œè£å‰ªã€‚</p>
<ul class="simple">
<li><p>sizeï¼šè£åˆ‡ä¿ç•™å¤šå°‘ä¸ªåƒç´ </p>
<ul>
<li><p>å€¼ä¸ºtupleï¼Œä¾‹å¦‚(h, w)ï¼Œè¡¨ç¤ºè£åˆ‡å°ºå¯¸ä¸º(h, w)</p></li>
<li><p>å€¼ä¸ºintï¼Œç­‰åŒäº(size, size)</p></li>
</ul>
</li>
<li><p>paddingï¼šå¡«å……è¾¹æ¡†åƒç´ å€¼</p>
<ul>
<li><p>å¦‚æœæ˜¯æ•´å‹ï¼Œè¡¨ç¤ºå¯¹4ä¸ªè¾¹æ¡†éƒ½å¡«å……paddingä¸ªåƒç´ å€¼</p></li>
<li><p>å¦‚æœæ˜¯é•¿åº¦ä¸º2çš„åºåˆ—ï¼Œä¾‹å¦‚ï¼Œpadding=(5, 10)ï¼Œè¡¨ç¤ºå¯¹å·¦å³è¾¹æ¡†å¡«å……5ä¸ªåƒç´ å€¼ï¼Œä¸Šä¸‹è¾¹æ¡†å¡«å……10ä¸ªåƒç´ å€¼ã€‚</p></li>
<li><p>å¦‚æœæ˜¯é•¿åº¦ä¸º4çš„åºåˆ—ï¼Œä¾‹å¦‚ï¼Œpadding=(5, 10, 15, 20)ï¼Œè¡¨ç¤ºå¯¹å·¦ã€ä¸Šã€å³ã€ä¸‹åˆ†åˆ«å¡«å……5ã€10ã€15ã€20ä¸ªåƒç´ å€¼ã€‚</p></li>
</ul>
</li>
<li><p>pad_if_neededï¼šå¦‚æœå›¾åƒå°äºæ‰€éœ€å¤§å°ï¼Œå®ƒå°†å…ˆå¡«å……å›¾åƒç„¶åè¿›è¡Œè£åˆ‡ä»¥é¿å…å¼•å‘å¼‚å¸¸ã€‚ç”±äºè£å‰ªæ˜¯åœ¨å¡«å……ä¹‹åå®Œæˆçš„ï¼Œæ‰€ä»¥å¡«å……ä¼¼ä¹æ˜¯ä»¥éšæœºåç§»é‡å®Œæˆçš„ã€‚</p></li>
<li><p>fillï¼šå¡«å……çš„å†…å®¹ï¼Œé»˜è®¤å€¼ä¸º0</p></li>
<li><p>padding_modeï¼šå¡«å……æ¨¡å¼ï¼Œå³ä»¥ä»€ä¹ˆå†…å®¹å¡«å……ã€‚é»˜è®¤ä¸ºå€¼â€™constantâ€™</p>
<ul>
<li><p>constantï¼šå¸¸é‡å¡«å……ï¼Œå¡«å……çš„å†…å®¹ç”±fillå‚æ•°æŒ‡å®šã€‚</p></li>
<li><p>edgeï¼šç”¨åŸå§‹å›¾åƒçš„æœ€åä¸€ä¸ªåƒç´ å€¼å¡«å……ã€‚</p></li>
<li><p>reflectï¼šåœ¨è¾¹ç¼˜ä¸Šä¸é‡å¤æœ€åä¸€ä¸ªå€¼çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨å›¾åƒåå°„è¿›è¡Œå¡«å……ã€‚ä¾‹å¦‚ï¼Œå›¾åƒæŸä¸€è¡Œåƒç´ ä¸º[1ï¼Œ2ï¼Œ3ï¼Œ4]ï¼Œå·¦å³ä¸¤è¾¹å……å¡«ä¸¤ä¸ªåƒç´ ï¼Œå› ä¸ºä¸é‡å¤è¾¹ç•Œåƒç´ ï¼Œå·¦ä¾§çš„åƒç´ å€¼1å’Œå³ä¾§çš„åƒç´ å€¼4ä¸è¿›è¡Œåå°„ï¼Œå·¦ä¾§å°±æ³•åˆ™2å’Œ3ï¼Œå‘å°„åæˆäº†3å’Œ2ï¼Œå¡«å……åˆ°å›¾åƒå·¦ä¾§ï¼Œå³ä¾§åå°„2å’Œ3ï¼Œåå°„åæˆäº†3å’Œ2ï¼Œå¡«å……åˆ°å›¾åƒå³ä¾§ï¼Œæœ€ç»ˆè¿™ä¸€è¡Œåƒç´ å€¼å˜æˆ[3ï¼Œ2ï¼Œ1ï¼Œ2ï¼Œ4ï¼Œ3ï¼Œ2]ã€‚</p></li>
<li><p>symmetricï¼šå°±æ˜¯reflectæ–¹å¼å¡«å……ï¼Œåªä¸è¿‡é‡å¤è¾¹ç•Œåƒç´ å€¼ã€‚[1ï¼Œ2ï¼Œ3ï¼Œ4]ä½¿ç”¨è¿™ç§æ–¹å¼å¡«å……åä¸º[2, 1, 1, 2, 3, 4, 4, 3]ã€‚</p></li>
</ul>
</li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">raw_img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;../image/sticker.jpeg&#39;</span><span class="p">)</span>
<span class="n">show_image</span><span class="p">([</span>
    <span class="p">(</span>
        <span class="n">raw_img</span><span class="p">,</span> <span class="s1">&#39;åŸå§‹å›¾åƒ&#39;</span>
    <span class="p">),</span>
    <span class="p">(</span>
        <span class="n">transforms</span><span class="o">.</span><span class="n">RandomCrop</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">200</span><span class="p">)(</span><span class="n">raw_img</span><span class="p">),</span>
        <span class="s2">&quot;size=200&quot;</span>
    <span class="p">),</span>
    <span class="p">(</span>
        <span class="n">transforms</span><span class="o">.</span><span class="n">RandomCrop</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span><span class="n">padding</span><span class="o">=</span><span class="mi">200</span><span class="p">)(</span><span class="n">raw_img</span><span class="p">),</span>
        <span class="s2">&quot;size=500,padding=200&quot;</span>
    <span class="p">)</span>
<span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/4ab620e654b69994e4628a8844c2eec62b03a75e651fc5336f117cd859f1e212.png" src="../_images/4ab620e654b69994e4628a8844c2eec62b03a75e651fc5336f117cd859f1e212.png" />
</div>
</div>
</section>
<section id="randomhorizontalflip-p-0-5-randomverticalflip-p-0-5">
<h3>RandomHorizontalFlip(p=0.5)ä¸RandomVerticalFlip(p=0.5)<a class="headerlink" href="#randomhorizontalflip-p-0-5-randomverticalflip-p-0-5" title="Link to this heading">#</a></h3>
<p>ä»¥ä¸€å®šçš„æ¦‚ç‡å°†å›¾åƒæ°´å¹³ç¿»è½¬ã€‚å‚æ•°åªæœ‰ä¸€ä¸ªæ¦‚ç‡å€¼pï¼Œé»˜è®¤å€¼ä¸º0.5ã€‚</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">raw_img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;../image/sticker.jpeg&#39;</span><span class="p">)</span>
<span class="n">show_image</span><span class="p">([</span>
    <span class="p">(</span>
        <span class="n">raw_img</span><span class="p">,</span> <span class="s1">&#39;åŸå§‹å›¾åƒ&#39;</span>
    <span class="p">),</span>
    <span class="p">(</span>
        <span class="n">transforms</span><span class="o">.</span><span class="n">RandomHorizontalFlip</span><span class="p">(</span><span class="n">p</span><span class="o">=</span><span class="mi">1</span><span class="p">)(</span><span class="n">raw_img</span><span class="p">),</span>
        <span class="s2">&quot;æ°´å¹³ç¿»è½¬&quot;</span>
    <span class="p">)</span>
<span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/1463f2b32636585486a7f756386516417a25bd4ae9ab0048510044aa28eb754f.png" src="../_images/1463f2b32636585486a7f756386516417a25bd4ae9ab0048510044aa28eb754f.png" />
</div>
</div>
<p>æœ‰æ°´å¹³ç¿»è½¬ï¼Œå°±æœ‰å‚ç›´ç¿»è½¬ï¼Œå³RandomVerticalFlip(p=0.5)ï¼Œç”¨æ³•ä¸RandomHorizontalFlip(p=0.5)å®Œå…¨ä¸€è‡´ï¼Œè¿™é‡Œä¸å†ä»‹ç»ã€‚</p>
</section>
<section id="randomperspective-distortion-scale-0-5-p-0-5-interpolation-3-fill-0">
<h3>RandomPerspective(distortion_scale=0.5, p=0.5, interpolation=3, fill=0)<a class="headerlink" href="#randomperspective-distortion-scale-0-5-p-0-5-interpolation-3-fill-0" title="Link to this heading">#</a></h3>
<p>ä»¥ä¸€å®šçš„æ¦‚ç‡å¯¹å›¾åƒè¿›è¡Œéšæœºçš„é€è§†å˜æ¢ã€‚</p>
<ul class="simple">
<li><p>distortion_scaleï¼šæ‰­æ›²çš„è§’åº¦ï¼Œå–å€¼åœ¨[0, 1]ä¹‹é—´ï¼Œé»˜è®¤å€¼ä¸º0.5.</p></li>
<li><p>pï¼šæ‰§è¡Œå˜æ¢çš„æ¦‚ç‡ã€‚</p></li>
<li><p>interpolationï¼šæ’å€¼çš„æ–¹æ³•ã€‚</p></li>
<li><p>fillï¼šå¡«å……çš„å†…å®¹ï¼Œé»˜è®¤å€¼ä¸º0ã€‚</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">raw_img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;../image/sticker.jpeg&#39;</span><span class="p">)</span>
<span class="n">show_image</span><span class="p">([</span>
    <span class="p">(</span>
        <span class="n">raw_img</span><span class="p">,</span> <span class="s1">&#39;åŸå§‹å›¾åƒ&#39;</span>
    <span class="p">),</span>
    <span class="p">(</span>
        <span class="n">transforms</span><span class="o">.</span><span class="n">RandomPerspective</span><span class="p">(</span><span class="n">distortion_scale</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)(</span><span class="n">raw_img</span><span class="p">),</span>
        <span class="s2">&quot;distortion_scale=0.5&quot;</span>
    <span class="p">)</span>
<span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/06616ebee67009781e17edfa65de3847029d3b0fbb6c0418607eb441cb3ad06d.png" src="../_images/06616ebee67009781e17edfa65de3847029d3b0fbb6c0418607eb441cb3ad06d.png" />
</div>
</div>
</section>
<section id="randomequalize-p-0-5">
<h3>RandomEqualize(p=0.5)<a class="headerlink" href="#randomequalize-p-0-5" title="Link to this heading">#</a></h3>
<p>ä»¥ä¸€å®šçš„æ¦‚ç‡å‡è¡¡å›¾åƒè‰²è°ƒç›´æ–¹å›¾ã€‚</p>
<ul class="simple">
<li><p>pï¼šæ‰§è¡Œå˜æ¢çš„æ¦‚ç‡ã€‚</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">raw_img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;../image/sticker.jpeg&#39;</span><span class="p">)</span>
<span class="n">show_image</span><span class="p">([</span>
    <span class="p">(</span>
        <span class="n">raw_img</span><span class="p">,</span> <span class="s1">&#39;åŸå§‹å›¾åƒ&#39;</span>
    <span class="p">),</span>
    <span class="p">(</span>
        <span class="n">transforms</span><span class="o">.</span><span class="n">RandomEqualize</span><span class="p">(</span><span class="n">p</span><span class="o">=</span><span class="mi">1</span><span class="p">)(</span><span class="n">raw_img</span><span class="p">),</span>
        <span class="s2">&quot;threshold=60, p=1&quot;</span>
    <span class="p">)</span>
<span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/859a181a921c3aa2fbf33396439ba9b8b04490bd683dbed8258a1ff2ff74bb38.png" src="../_images/859a181a921c3aa2fbf33396439ba9b8b04490bd683dbed8258a1ff2ff74bb38.png" />
</div>
</div>
</section>
<section id="randomapply-p-0-5">
<h3>RandomApply(p=0.5)<a class="headerlink" href="#randomapply-p-0-5" title="Link to this heading">#</a></h3>
<p>ä»¥ä¸€å®šçš„æ¦‚ç‡æ‰§è¡Œä¸€ç»„å›¾åƒå˜æ¢APIï¼Œè¦ä¹ˆå…¨éƒ¨æ‰§è¡Œï¼Œè¦ä¹ˆå…¨ä¸æ‰§è¡Œã€‚</p>
<ul class="simple">
<li><p>pï¼šæ‰§è¡Œå˜æ¢çš„æ¦‚ç‡ã€‚</p></li>
</ul>
</section>
</section>
<section id="pil-imageapi">
<h2>ä¸“ç”¨äºPIL.Imageçš„å›¾åƒå˜æ¢API<a class="headerlink" href="#pil-imageapi" title="Link to this heading">#</a></h2>
<p>è¿™ç§ç±»å‹çš„APIåªæœ‰ä¸¤ä¸ªï¼šRandomChoiceå’ŒRandomOrderï¼Œå®˜æ–¹æ–‡æ¡£æŒ‡å‡ºï¼Œæ­¤ç±»APIåªé€‚ç”¨äºPIL.Imageç±»å‹å›¾åƒã€‚</p>
<section id="randomchoice-transforms-p">
<h3>RandomChoice(transforms[, p])<a class="headerlink" href="#randomchoice-transforms-p" title="Link to this heading">#</a></h3>
<p>ä»¥ä¸€å®šçš„æ¦‚ç‡ä»å¤šä¸ªå›¾åƒå˜æ¢APIä¸­é€‰å–ä¸€ä¸ªå¯¹å›¾åƒè¿›è¡Œå˜æ¢ï¼Œæ³¨æ„ï¼šå¯èƒ½ä¸€ä¸ªéƒ½ä¸é€‰å–ï¼Œå³ä¸æ‰§è¡Œå˜æ¢ã€‚</p>
<ul class="simple">
<li><p>transformsï¼šå¤šä¸ªå›¾åƒå˜æ¢APIç»„æˆçš„åºåˆ—</p></li>
<li><p>pï¼šæ‰§è¡Œå˜æ¢çš„æ¦‚ç‡ã€‚</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">raw_img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;../image/sticker.jpeg&#39;</span><span class="p">)</span>

<span class="n">trans</span> <span class="o">=</span> <span class="n">transforms</span><span class="o">.</span><span class="n">RandomChoice</span><span class="p">([</span>
    <span class="n">transforms</span><span class="o">.</span><span class="n">Resize</span><span class="p">(</span><span class="mi">350</span><span class="p">),</span>
    <span class="n">transforms</span><span class="o">.</span><span class="n">RandomEqualize</span><span class="p">(</span><span class="n">p</span><span class="o">=</span><span class="mi">1</span><span class="p">),</span>
    <span class="n">transforms</span><span class="o">.</span><span class="n">RandomAffine</span><span class="p">(</span><span class="n">degrees</span><span class="o">=</span><span class="mi">60</span><span class="p">)</span>
<span class="p">])</span>
<span class="n">show_image</span><span class="p">([</span>
    <span class="p">(</span>
        <span class="n">raw_img</span><span class="p">,</span> <span class="s1">&#39;åŸå§‹å›¾åƒ&#39;</span>
    <span class="p">),</span>
    <span class="p">(</span>
        <span class="n">trans</span><span class="p">(</span><span class="n">raw_img</span><span class="p">),</span> <span class="s1">&#39;éšæœºä¸€æ¬¡å˜æ¢&#39;</span>
    <span class="p">),</span>
    <span class="p">(</span>
        <span class="n">trans</span><span class="p">(</span><span class="n">raw_img</span><span class="p">),</span> <span class="s1">&#39;éšæœºä¸€æ¬¡å˜æ¢&#39;</span>
    <span class="p">)</span>
<span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/3a8d60f01057fef18a2fa01d6c9117e49f93226a029edd6c8f4c0d7ca27da045.png" src="../_images/3a8d60f01057fef18a2fa01d6c9117e49f93226a029edd6c8f4c0d7ca27da045.png" />
</div>
</div>
</section>
<section id="randomorder-transforms-p">
<h3>RandomOrder(transforms[, p])<a class="headerlink" href="#randomorder-transforms-p" title="Link to this heading">#</a></h3>
<p>ä»¥éšæœºé¡ºåºæ‰§è¡Œç»™å®šçš„å¤šä¸ªå›¾åƒå˜æ¢APIã€‚</p>
<ul class="simple">
<li><p>transformsï¼šå¤šä¸ªå›¾åƒå˜æ¢APIç»„æˆçš„åºåˆ—</p></li>
</ul>
<p>ä»åŠŸèƒ½ä¸Šè¯´ï¼Œè¿™ä¸¤ä¸ªAPIéƒ½ä¸æ˜¯ä¸“é—¨é’ˆå¯¹PIL.Imageï¼Œæˆ‘ä¸çŸ¥é“å®˜æ–¹æ–‡æ¡£ä¸Šä¸ºä»€ä¹ˆè¿™ä¹ˆåˆ†ç±»ã€‚</p>
</section>
</section>
<section id="torch-tensorapi">
<h2>ä¸“ç”¨äºtorch.*Tensorçš„å›¾åƒå˜æ¢API<a class="headerlink" href="#torch-tensorapi" title="Link to this heading">#</a></h2>
<section id="lineartransformation-transformation-matrix">
<h3>LinearTransformation(transformation_matrix, â€¦)<a class="headerlink" href="#lineartransformation-transformation-matrix" title="Link to this heading">#</a></h3>
<p>ä½¿ç”¨å˜æ¢çŸ©é˜µå’Œç¦»çº¿è®¡ç®—çš„å‡å€¼å‘é‡å¯¹å›¾åƒå¼ é‡è¿›è¡Œå˜æ¢ï¼Œå¯ä»¥ç”¨åœ¨ç™½åŒ–å˜æ¢ä¸­ï¼Œç™½åŒ–å˜æ¢ç”¨æ¥å»é™¤è¾“å…¥æ•°æ®çš„å†—ä½™ä¿¡æ¯ã€‚å¸¸ç”¨åœ¨æ•°æ®é¢„å¤„ç†ä¸­ã€‚</p>
</section>
<section id="normalize-mean-std-inplace-false">
<h3>Normalize(mean, std, inplace=False)<a class="headerlink" href="#normalize-mean-std-inplace-false" title="Link to this heading">#</a></h3>
<p>é€channelçš„å¯¹å›¾åƒè¿›è¡Œæ ‡å‡†åŒ–ï¼ˆå‡å€¼å˜ä¸º0ï¼Œæ ‡å‡†å·®å˜ä¸º1ï¼‰ï¼Œå¯ä»¥åŠ å¿«æ¨¡å‹çš„æ”¶æ•›</p>
</section>
<section id="randomerasing-p-0-5-scale-0-02-0-33-ratio-0-3-3-3">
<h3>RandomErasing(p=0.5, scale=(0.02, 0.33), ratio=(0.3, 3.3)<a class="headerlink" href="#randomerasing-p-0-5-scale-0-02-0-33-ratio-0-3-3-3" title="Link to this heading">#</a></h3>
<p>éšæœºé€‰æ‹©å›¾åƒä¸­çš„ä¸€å—åŒºåŸŸï¼Œæ“¦é™¤å…¶åƒç´ ï¼Œä¸»è¦ç”¨æ¥è¿›è¡Œæ•°æ®å¢å¼ºã€‚</p>
<ul class="simple">
<li><p>p: æ‰§è¡Œæ“¦é™¤çš„æ¦‚ç‡ã€‚</p></li>
<li><p>scaleï¼šæ“¦é™¤åŒºåŸŸç›¸å¯¹äºè¾“å…¥å›¾åƒçš„æ¯”ä¾‹èŒƒå›´ã€‚</p></li>
<li><p>ratioï¼šæ“¦é™¤åŒºåŸŸçš„çºµæ¨ªæ¯”èŒƒå›´ã€‚</p></li>
<li><p>valueï¼šæ“¦é™¤åŒºåŸŸçš„å¡«å……å†…å®¹ã€‚</p></li>
<li><p>inplaceï¼šæ˜¯å¦åŸåœ°ä¿®æ”¹ï¼Œé»˜è®¤ä¸ºFalseã€‚</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">raw_img</span> <span class="o">=</span> <span class="n">read_image</span><span class="p">(</span><span class="s1">&#39;../image/sticker.jpeg&#39;</span><span class="p">)</span>
<span class="n">show_image</span><span class="p">([</span>
    <span class="p">(</span>
        <span class="n">raw_img</span><span class="p">,</span> <span class="s1">&#39;åŸå§‹å›¾åƒ&#39;</span>
    <span class="p">),</span>
    <span class="p">(</span>
        <span class="n">transforms</span><span class="o">.</span><span class="n">RandomErasing</span><span class="p">(</span><span class="n">p</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="p">(</span><span class="mf">0.2</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">),</span><span class="n">ratio</span><span class="o">=</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">),</span><span class="n">value</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">))(</span><span class="n">raw_img</span><span class="p">),</span>
        <span class="s2">&quot;éšæœºæ“¦é™¤&quot;</span>
    <span class="p">)</span>
<span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/0c09217dbf2f59d09139f7efaa64cb83880919143103d12e14a71e06e33bba8a.png" src="../_images/0c09217dbf2f59d09139f7efaa64cb83880919143103d12e14a71e06e33bba8a.png" />
</div>
</div>
</section>
<section id="id5">
<h3>RandomErasing(p=0.5, scale=(0.02, 0.33), ratio=(0.3, 3.3)<a class="headerlink" href="#id5" title="Link to this heading">#</a></h3>
<p>å¯¹å›¾åƒä¸­å„åƒç´ æ•°æ®ç±»å‹è¿›è¡Œè½¬æ¢ã€‚</p>
<ul class="simple">
<li><p>dtype : è¾“å‡ºå›¾åƒä¸­å„ä¸ªåƒç´ çš„æ•°æ®ç±»å‹</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">raw_img</span> <span class="o">=</span> <span class="n">read_image</span><span class="p">(</span><span class="s1">&#39;../image/sticker.jpeg&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;è½¬æ¢å‰æ•°æ®ç±»å‹ä¸ºï¼š</span><span class="si">{</span><span class="n">raw_img</span><span class="o">.</span><span class="n">dtype</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>è½¬æ¢å‰æ•°æ®ç±»å‹ä¸ºï¼štorch.uint8
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">img</span> <span class="o">=</span> <span class="n">transforms</span><span class="o">.</span><span class="n">ConvertImageDtype</span><span class="p">(</span><span class="n">dtype</span><span class="o">=</span><span class="n">torch</span><span class="o">.</span><span class="n">float32</span><span class="p">)(</span><span class="n">raw_img</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;è½¬æ¢å‰æ•°æ®ç±»å‹åï¼š</span><span class="si">{</span><span class="n">img</span><span class="o">.</span><span class="n">dtype</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>è½¬æ¢å‰æ•°æ®ç±»å‹åï¼štorch.float32
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="id6">
<h2>è½¬æ¢ç±»å‹çš„å›¾åƒå˜æ¢API<a class="headerlink" href="#id6" title="Link to this heading">#</a></h2>
<section id="topilimage-mode">
<h3>ToPILImage([mode])<a class="headerlink" href="#topilimage-mode" title="Link to this heading">#</a></h3>
<p>å°†torch.Tensoræˆ–numpy.ndarrayç±»å‹å›¾åƒè½¬ä¸ºPIL.Imageç±»å‹å›¾åƒã€‚</p>
<ul class="simple">
<li><p>mode: PIL.Imageæ¨¡å¼</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">raw_img</span> <span class="o">=</span> <span class="n">read_image</span><span class="p">(</span><span class="s1">&#39;../image/sticker.jpeg&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;è½¬æ¢å‰å›¾åƒç±»å‹ä¸ºï¼š</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">raw_img</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">img</span> <span class="o">=</span> <span class="n">transforms</span><span class="o">.</span><span class="n">ToPILImage</span><span class="p">()(</span><span class="n">raw_img</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;è½¬æ¢åå›¾åƒç±»å‹ä¸ºï¼š</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">img</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>è½¬æ¢å‰å›¾åƒç±»å‹ä¸ºï¼š&lt;class &#39;torch.Tensor&#39;&gt;
è½¬æ¢åå›¾åƒç±»å‹ä¸ºï¼š&lt;class &#39;PIL.Image.Image&#39;&gt;
</pre></div>
</div>
</div>
</div>
</section>
<section id="totensor">
<h3>ToTensor()<a class="headerlink" href="#totensor" title="Link to this heading">#</a></h3>
<p>å°†PIL.Imageæˆ–numpy.ndarrayç±»å‹å›¾åƒè½¬ä¸ºtorch.Tensorç±»å‹å›¾åƒã€‚</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">raw_img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;../image/sticker.jpeg&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;è½¬æ¢å‰å›¾åƒç±»å‹ä¸ºï¼š</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">raw_img</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="n">img</span> <span class="o">=</span> <span class="n">transforms</span><span class="o">.</span><span class="n">ToTensor</span><span class="p">()(</span><span class="n">raw_img</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;è½¬æ¢åå›¾åƒç±»å‹ä¸ºï¼š</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">img</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>è½¬æ¢å‰å›¾åƒç±»å‹ä¸ºï¼š&lt;class &#39;PIL.JpegImagePlugin.JpegImageFile&#39;&gt;
è½¬æ¢åå›¾åƒç±»å‹ä¸ºï¼š&lt;class &#39;torch.Tensor&#39;&gt;
</pre></div>
</div>
</div>
</div>
</section>
<section id="piltotensor">
<h3>PILToTensor()<a class="headerlink" href="#piltotensor" title="Link to this heading">#</a></h3>
<p>å°†PIL.Image(shapeä¸ºï¼š(H x W x C))ç±»å‹å›¾åƒè½¬ä¸ºtorch.Tensor(shapeä¸ºï¼š (C x H x W))ã€‚</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">raw_img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;../image/sticker.jpeg&#39;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;è½¬æ¢å‰å›¾åƒç±»å‹ä¸ºï¼š</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">raw_img</span><span class="p">)</span><span class="si">}</span><span class="s1">ï¼Œ&#39;</span><span class="p">)</span> 

<span class="n">img</span> <span class="o">=</span> <span class="n">transforms</span><span class="o">.</span><span class="n">ToTensor</span><span class="p">()(</span><span class="n">raw_img</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;è½¬æ¢åå›¾åƒç±»å‹ä¸ºï¼š</span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">img</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>è½¬æ¢å‰å›¾åƒç±»å‹ä¸ºï¼š&lt;class &#39;PIL.JpegImagePlugin.JpegImageFile&#39;&gt;ï¼Œ
è½¬æ¢åå›¾åƒç±»å‹ä¸ºï¼š&lt;class &#39;torch.Tensor&#39;&gt;
</pre></div>
</div>
</div>
</div>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./PrerequisiteKnowledge"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="%E5%85%B3%E4%BA%8Etensor%E4%B8%AD%E7%9A%84is_leaf.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">å…³äºtensorä¸­çš„is_leaf</p>
      </div>
    </a>
    <a class="right-next"
       href="../FunctionDetails/torch.argmax.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">torch.argmax</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">PyTorchå›¾åƒå¤„ç†</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">å¯¼å…¥æ‰€éœ€çš„åº“</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">åŠ è½½å›¾ç‰‡</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pil">PILåº“</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">pytorchä¸­æä¾›çš„å›¾åƒåŠ è½½æ–¹æ³•</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#transforms">transforms</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#compose">Compose</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">è‡ªå®šä¹‰å›¾åƒå˜æ¢</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#pytorchapi">pytorchä¸­å¼€ç®±å³ç”¨çš„å›¾åƒå˜æ¢API</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#api">é€šç”¨å‹å›¾åƒå˜æ¢API</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#centercrop-size">CenterCrop(size)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#resize-size">Resize(size)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#pad-padding-fill-0-padding-mode-constant">Pad(padding, fill=0, padding_mode=â€™constantâ€™)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#colorjitter-brightness-0-contrast-0-saturation-0-hue-0">ColorJitter(brightness=0, contrast=0, saturation=0, hue=0)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#randomrotation-degrees-interpolation">RandomRotation(degrees[, interpolation, â€¦])</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#gaussianblur-kernel-size-sigma">GaussianBlur(kernel_size[, sigma])</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#fivecrop-size-tencrop-size-vertical-flip-false">FiveCrop(size)ä¸ TenCrop(size, vertical_flip=False)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#grayscale-num-output-channels-1-randomgrayscale-p-0-1">Grayscale(num_output_channels=1) RandomGrayscale(p=0.1)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#randomsolarize-threshold-p-0-5">RandomSolarize(threshold, p=0.5)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#randomaffine-degrees-translate-none-scale-none-shear-none-resample-false-fillcolor-0">RandomAffine(degrees, translate=None, scale=None, shear=None, resample=False, fillcolor=0)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#randomcrop-size-padding-none-pad-if-needed-false-fill-0-padding-mode-constant">RandomCrop(size, padding=None, pad_if_needed=False, fill=0, padding_mode=â€™constantâ€™)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#randomhorizontalflip-p-0-5-randomverticalflip-p-0-5">RandomHorizontalFlip(p=0.5)ä¸RandomVerticalFlip(p=0.5)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#randomperspective-distortion-scale-0-5-p-0-5-interpolation-3-fill-0">RandomPerspective(distortion_scale=0.5, p=0.5, interpolation=3, fill=0)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#randomequalize-p-0-5">RandomEqualize(p=0.5)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#randomapply-p-0-5">RandomApply(p=0.5)</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#pil-imageapi">ä¸“ç”¨äºPIL.Imageçš„å›¾åƒå˜æ¢API</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#randomchoice-transforms-p">RandomChoice(transforms[, p])</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#randomorder-transforms-p">RandomOrder(transforms[, p])</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#torch-tensorapi">ä¸“ç”¨äºtorch.*Tensorçš„å›¾åƒå˜æ¢API</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#lineartransformation-transformation-matrix">LinearTransformation(transformation_matrix, â€¦)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#normalize-mean-std-inplace-false">Normalize(mean, std, inplace=False)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#randomerasing-p-0-5-scale-0-02-0-33-ratio-0-3-3-3">RandomErasing(p=0.5, scale=(0.02, 0.33), ratio=(0.3, 3.3)</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">RandomErasing(p=0.5, scale=(0.02, 0.33), ratio=(0.3, 3.3)</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">è½¬æ¢ç±»å‹çš„å›¾åƒå˜æ¢API</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#topilimage-mode">ToPILImage([mode])</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#totensor">ToTensor()</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#piltotensor">PILToTensor()</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By ascotbe
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      Â© Copyright 2024.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>